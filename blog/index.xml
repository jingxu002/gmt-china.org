<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Blog-rsses on GMT 中文社区</title>
    <link>http://gmt-china.org/blog/index.xml</link>
    <description>Recent content in Blog-rsses on GMT 中文社区</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cmn-Hans</language>
    <managingEditor>admin@gmt-china.org (GMT 中文社区)</managingEditor>
    <webMaster>admin@gmt-china.org (GMT 中文社区)</webMaster>
    <copyright>Powered by [Hugo](https://gohugo.io) &amp; Hosted by [GitHub](https://github.com/gmt-china/gmt-china.org).</copyright>
    <lastBuildDate>Thu, 17 Nov 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://gmt-china.org/blog/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>GDAL/OGR: 地理空间数据格式转换神器</title>
      <link>http://gmt-china.org/blog/gdal-ogr/</link>
      <pubDate>Thu, 17 Nov 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/gdal-ogr/</guid>
      <description>

&lt;p&gt;GDAL/OGR 是一个地理空间数据的格式转换及处理工具。&lt;/p&gt;

&lt;h2 id=&#34;简介&#34;&gt;简介&lt;/h2&gt;

&lt;p&gt;官方主页: &lt;a href=&#34;http://www.gdal.org&#34; target=&#34;_blank&#34;&gt;http://www.gdal.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;GDAL/OGR 的核心分成两个部分：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;GDAL部分可以实现142种光栅数据格式间的互相转换，比如常见的 netCDF、GeoTiff、HDF5、XYZ 等，详见 &lt;a href=&#34;http://www.gdal.org/formats_list.html&#34; target=&#34;_blank&#34;&gt;GDAL光栅格式列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ORG部分可以实现84种矢量数据格式间的互相转换，比如常见的 Shapefile、GMT、KML、MapInfo、Excel 等，详见 &lt;a href=&#34;http://www.gdal.org/ogr_formats.html&#34; target=&#34;_blank&#34;&gt;OGR矢量格式列表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;

&lt;h3 id=&#34;linux-用户&#34;&gt;Linux 用户&lt;/h3&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;Linux 由于版本众多，以下仅供参考。如有差异，请到 &lt;a href=&#34;https://pkgs.org&#34; target=&#34;_blank&#34;&gt;https://pkgs.org&lt;/a&gt; 自行搜索。&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;CentOS/Fedora 用户:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo yum install gdal gdal-python
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ubuntu/Debian 用户:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install gdal-bin python-gdal
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;macos-用户&#34;&gt;macOS 用户&lt;/h3&gt;

&lt;p&gt;推荐使用 &lt;a href=&#34;http://brew.sh/&#34; target=&#34;_blank&#34;&gt;Homebrew&lt;/a&gt; 安装:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew install gdal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;非 homebrew 用户也可以到 &lt;a href=&#34;http://www.kyngchaos.com/software/frameworks&#34; target=&#34;_blank&#34;&gt;William Kyngesburye 的网站&lt;/a&gt; 下载 dmg 安装包。&lt;/p&gt;

&lt;h3 id=&#34;windows-用户&#34;&gt;Windows 用户&lt;/h3&gt;

&lt;p&gt;Windows 用户可以通过安装 &lt;a href=&#34;https://trac.osgeo.org/osgeo4w/&#34; target=&#34;_blank&#34;&gt;OSGeo4W&lt;/a&gt; 来使用其提供的 GDAL。安装及使用方式如下：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;到 OSGeo4W 官方网站下载 &lt;a href=&#34;http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86.exe&#34; target=&#34;_blank&#34;&gt;32位&lt;/a&gt; 或 &lt;a href=&#34;http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86_64.exe&#34; target=&#34;_blank&#34;&gt;64位&lt;/a&gt; 安装包&lt;/li&gt;
&lt;li&gt;双击=&amp;gt;“Express Desktop Install”=&amp;gt;选择下载地址=&amp;gt;只勾选GDAL=&amp;gt;等待下载安装完成（有经验的用户也可以选择“Advanced Install”以自定义安装）&lt;/li&gt;
&lt;li&gt;安装完成会在桌面生成一个名为OSGeo4W的文件夹，双击文件夹内的快捷链接即可打开一个命令行窗口&lt;/li&gt;
&lt;li&gt;命令行窗口中输入 &lt;code&gt;ogr2ogr --version&lt;/code&gt; 以确认可以正常使用&lt;/li&gt;
&lt;li&gt;如果只是偶尔使用，建议按照如上方式运行；如果是经常使用，可以将 &lt;code&gt;C:\OSGeo4W64\bin&lt;/code&gt; 添加到 环境变量 PATH 中&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;如果由于某些原因无法使用 OSGeo4W，下面两个软件包中也附带了 GDAL 工具：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.ms4w.com/&#34; target=&#34;_blank&#34;&gt;MS4W&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gisinternals.com/&#34; target=&#34;_blank&#34;&gt;GISInternals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;使用&#34;&gt;使用&lt;/h2&gt;

&lt;p&gt;GDAL/OGR 提供了几十个工具，每个工具用法也很丰富。此处只介绍常见工具的简单用法，详细用法请参考 &lt;a href=&#34;http://www.gdal.org/gdal_utilities.html&#34; target=&#34;_blank&#34;&gt;GDAL工具列表&lt;/a&gt; 和 &lt;a href=&#34;http://www.gdal.org/ogr_utilities.html&#34; target=&#34;_blank&#34;&gt;OGR工具列表&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&#34;ogr2ogr&#34;&gt;ogr2ogr&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;ogr2ogr&lt;/code&gt; 用于地理矢量数据格式之间的相互转换。&lt;/p&gt;

&lt;p&gt;查看 &lt;code&gt;ogr2ogr&lt;/code&gt; 支持哪些格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ogr2ogr --formats
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将 Shapefile 格式的数据转换为 GMT 所需要的格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ogr2ogr -f GMT CHN_adm0.gmt CHN_adm0.shp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;其中， &lt;code&gt;-f GMT&lt;/code&gt; 表示将输入数据转换为 GMT 格式。&lt;/p&gt;

&lt;h3 id=&#34;gdal-translate&#34;&gt;gdal_translate&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;gdal_translate&lt;/code&gt; 用于地理空间光栅数据格式之间的相互转换。&lt;/p&gt;

&lt;p&gt;查看 &lt;code&gt;gdal_translate&lt;/code&gt; 支持哪些格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_translate --formats
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将 GeoTiff 数据转换为 GMT 所使用的 netCDF 格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_translate -of GMT srtm_56_05.tif srtm_56_05.nc
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;GDAL 默认不支持 GMT 所需的 netCDF 格式，所以需要注意检查当前机器安装的 GDAL 是否支持。&lt;/p&gt;
&lt;/div&gt;


&lt;h3 id=&#34;gdal-merge-py&#34;&gt;gdal_merge.py&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;gdal_merge.py&lt;/code&gt; 用于将合并多个光栅文件。&lt;/p&gt;

&lt;p&gt;将多个 GeoTiff 文件合并为一个 GeoTiff 文件:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_merge.py -o output.tif srtm_56_07.tif srtm_57_07.tif
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;参考资料&#34;&gt;参考资料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/&#34; target=&#34;_blank&#34;&gt;GDAL官方网站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/gdal_utilities.html&#34; target=&#34;_blank&#34;&gt;GDAL工具列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/ogr_utilities.html&#34; target=&#34;_blank&#34;&gt;OGR工具列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://headfirst-gdal.readthedocs.io/en/latest/index.html&#34; target=&#34;_blank&#34;&gt;GDAL中文教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Windows 下可用的 Unix 工具</title>
      <link>http://gmt-china.org/blog/unix-tools-for-windows/</link>
      <pubDate>Sat, 29 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/unix-tools-for-windows/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;下载地址：&lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;为满足 Windows 下的 GMT 用户对 Linux 工具的需求，我们将常用的 Linux 工具打包供 Windows 用户下载使用。&lt;/p&gt;

&lt;p&gt;直接下载 &lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt; 并将解压得到的 exe 文件复制到 GMT 的 bin 目录即可（比如默认的 &lt;code&gt;C:\programs\gmt5\bin&lt;/code&gt; ）。&lt;/p&gt;

&lt;p&gt;软件包中包含如下程序：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cat&lt;/code&gt;：显示文件内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cut&lt;/code&gt;：从指定文本中截取文本并输出至标准输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gawk&lt;/code&gt;：处理文本信息的编程语言工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grep&lt;/code&gt;：从指定文本或标准输入中识别并截取出特定字段等&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head&lt;/code&gt;：输出一个或多个指定文本的前n行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;join&lt;/code&gt;：将两个文件中文本一致的行连接并输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;md5sum&lt;/code&gt;：检验文本的MD5摘要&lt;/li&gt;
&lt;li&gt;&lt;code&gt;paste&lt;/code&gt;：并排输出两个文件的内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;printf&lt;/code&gt;：按C语言格式输出文本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed&lt;/code&gt;：文本处理工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sort&lt;/code&gt;：对文本文档进行排序&lt;/li&gt;
&lt;li&gt;&lt;code&gt;split&lt;/code&gt;：以行为单位切割文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tail&lt;/code&gt;：显示文件尾端的n行数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uniq&lt;/code&gt;：从文本中去除或禁止重复行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wc&lt;/code&gt;：输出指定文件的行数、字数和文本数据大小&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以上 Unix 工具均提取自 &lt;a href=&#34;http://www.ms4w.com&#34; target=&#34;_blank&#34;&gt;MS4W&lt;/a&gt; 。&lt;/p&gt;

&lt;p&gt;如果你发现某些工具存在问题，或者觉得有其他需要的 Unix 工具没有被包含进来，请向我们反馈，我们会酌情考虑。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT 5.3.1 发布</title>
      <link>http://gmt-china.org/blog/GMT-5.3.1-released/</link>
      <pubDate>Sat, 22 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMT-5.3.1-released/</guid>
      <description>

&lt;p&gt;2016年10月21日，GMT 官方发布了 GMT5 的 5.3.1 版本。此前不久，GMT4 也更新了 4.5.15 版本。&lt;/p&gt;

&lt;p&gt;GMT 5.3.1 相对于 5.2.1 上的改进主要包括：&lt;/p&gt;

&lt;h2 id=&#34;新增模块&#34;&gt;新增模块&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pssolar&lt;/code&gt;: 绘制晨昏线和其他日照参数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtpmodeler&lt;/code&gt;: 用给定点评价板块运动模型&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rotsmoother&lt;/code&gt;: 以四分法平滑板块的旋转角并给出估计协方差&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pssac&lt;/code&gt;: 绘制以 SAC 格式存储的地震波形数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpsgridder&lt;/code&gt;: 利用弹性形变理论下的格林函数对GPS应变矢量进行插值&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;其他重要更新&#34;&gt;其他重要更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;CPT文件新增了一个称为 hinge 的属性。GMT官方给的40个CPT都是动态、存在hinge和有一个默认范围的。因此，大部分CPT的值都被归一化在0-1的区间内，而那些具有hinge的CPT文件的值则被归一化到了-1/+1的区间内，0就自然而然地成为了归一化后的颜色转折点。在CPT文件的插值中，hinge两边的数据是分开进行的。因此，在hinge处通常颜色变化较大。另外，当要求CPT文件中包含对称的范围时,我们可以保证hinge处的颜色不会变换到其他Z值所对应的颜色上去。当范围没有给定时，CPT文件将应用默认范围。&lt;/li&gt;
&lt;li&gt;GMT官方统一了地图各装饰项的指定方式，其中包括：比例尺、色标、图例、方位标、插图、GMT的logo和背景图片等。GMT手册中新开了一节专门来讲其指定方式。其实该部分的主要概念就是这些条目对齐方式和距离的参考点。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grdlandmask&lt;/code&gt; 和 &lt;code&gt;sph2grd&lt;/code&gt; 支持 OpenMP 并行&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;模块更新&#34;&gt;模块更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;filter1d&lt;/code&gt; 支持高通滤波&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtinfo&lt;/code&gt; 新添了 &lt;code&gt;-L&lt;/code&gt; 选项以的的多个文件或多段数据的共同边界&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtmath&lt;/code&gt; 和 &lt;code&gt;grdmath&lt;/code&gt; 增加了一些新的数学操作&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项新增了功能，使得用户可以生成自动标注&lt;/li&gt;
&lt;li&gt;&lt;code&gt;psxy&lt;/code&gt;:

&lt;ul&gt;
&lt;li&gt;支持绘制装饰线，即绘制线的同时沿着线绘制符号&lt;/li&gt;
&lt;li&gt;线段两端可以添加箭头&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-SE&lt;/code&gt;、&lt;code&gt;-SJ&lt;/code&gt;、&lt;code&gt;-S=&lt;/code&gt; 等选项可以接不同单位的地理量来指定符号的大小&lt;/li&gt;
&lt;li&gt;新增了弯曲箭头来表示 fault-slip&lt;/li&gt;
&lt;li&gt;支持向内箭头&lt;/li&gt;
&lt;li&gt;自定义符号可以是一个已经存在的EPS文件&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>为子图添加编号</title>
      <link>http://gmt-china.org/blog/numbering-subfigures/</link>
      <pubDate>Mon, 17 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/numbering-subfigures/</guid>
      <description>&lt;p&gt;在绘制组合图（即一张图由多张子图组成）时，需要在每张子图的左上角加上 a、b、c、d 等子图编号。常规的方法是根据子图的 &lt;code&gt;-R&lt;/code&gt; 选项的范围估计编号在当前子图里的坐标，然后使用 &lt;code&gt;pstext&lt;/code&gt; 模块将编号写在坐标所在的位置。此方法的一个明显缺点是，当 &lt;code&gt;-R&lt;/code&gt; 选项发生变化时，子图编号的坐标也需要发生变化。&lt;/p&gt;

&lt;p&gt;其实，GMT5 的 &lt;code&gt;pstext&lt;/code&gt; 模块提供了一个功能，可以用于灵活地进行子图编号。如下脚本所示：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash
J=X5c/3c
R=0/5/0/3
PS=figures.ps

gmt psbasemap -J$J -R$R -Ba -BWSen -K &amp;gt; $PS
echo &amp;quot;a&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psbasemap -J$J -R$R -Ba -BWSen -K -O -X7c &amp;gt;&amp;gt; $PS
echo &amp;quot;b&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;结果如下图所示：
&lt;img src=&#34;http://gmt-china.org/images/numbering-subfigures.png&#34; alt=&#34;子图编号&#34; /&gt;&lt;/p&gt;

&lt;p&gt;几点说明：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;+cTL&lt;/code&gt; 的作用是从 &lt;code&gt;-R&lt;/code&gt; 选项中提取底图的左上角（&lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;L&lt;/strong&gt;eft）作为当前字符串的坐标；&lt;/li&gt;
&lt;li&gt;由于使用了 &lt;code&gt;+cTL&lt;/code&gt;，因而 &lt;code&gt;pstext&lt;/code&gt; 不再需要 XY 坐标信息，只需要给出字符串 &lt;code&gt;a&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt; 即可；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+f15p,1&lt;/code&gt; 将编号字号设置为 &lt;code&gt;15p&lt;/code&gt;，1号字体（即粗体）&lt;/li&gt;
&lt;li&gt;将编号放在左上角还不够，还需要使用 &lt;code&gt;-Dj-1c/-0.75c&lt;/code&gt; 对编号的位置进行微调，此处表示将编号向左边移动 1 cm 向上移动 0.75 cm&lt;/li&gt;
&lt;li&gt;由于编号位于子图的外部，故而需要加上 &lt;code&gt;-N&lt;/code&gt; 选项使得 &lt;code&gt;pstext&lt;/code&gt; 绘制子图外部的字符串&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>生成多页PS/PDF文件</title>
      <link>http://gmt-china.org/blog/multipage-ps/</link>
      <pubDate>Wed, 12 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/multipage-ps/</guid>
      <description>&lt;p&gt;通常，在使用GMT画图时都是一个PS文件中保存一张图。因而，在需要画很多张同类型的图时，就需要生成很多个PS文件。比如要画1000个台站的波形数据，每张图只能放下20个波形，那么就需要写个循环画50张图，最终得到50个PS文件。有没有可能生成一个多页文件，每一页一张图呢？&lt;/p&gt;

&lt;p&gt;常规的做法是：先生成一堆PS文件，然后利用 &lt;code&gt;gmt psconvert -TF -Fout.pdf *.ps&lt;/code&gt;
将所有PS文件转换成一个多页PDF文件 &lt;code&gt;out.pdf&lt;/code&gt; ，最后把生成的PS文件删除。&lt;/p&gt;

&lt;p&gt;另一种做法是，直接生成一个多页PS文件，也就是把原来的脚本做小小的修改，使得所有绘图命令的输出都重定向到同一个PS文件中。比如，下面这个示例代码会生成10个PS文件，每个PS文件上写一个数字：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
for (( i = 0; i &amp;lt; 10; i++)); do
    PS=map_$i.ps
    gmt psxy -J$J -R$R -T -K &amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;对上面的代码做一点微小的改动：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
PS=map.ps

[ -e $PS ] &amp;amp;&amp;amp; rm $PS

for (( i = 0; i &amp;lt; 10; i++)); do
    gmt psxy -J$J -R$R -T -K &amp;gt;&amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;改动主要有三点：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;将变量 &lt;code&gt;PS&lt;/code&gt; 的定义放在了循环外部，意味着所有命令的输出都会保存到一个PS文件中&lt;/li&gt;
&lt;li&gt;第一个绘图命令的 &lt;code&gt;&amp;gt;&lt;/code&gt; 改成了 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; ，以保证每次循环时不会新建PS文件&lt;/li&gt;
&lt;li&gt;循环开始前判断PS文件是否存在，若存在则删除，以避免多次执行脚本时将多次执行的结果写到同一个文件中&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;经过这样的改动之后，就生成了一个多页PS文件。可以使用&lt;code&gt;gmt psconvert -Tf map.ps&lt;/code&gt;
将其转换为多页PDF文件。&lt;/p&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;将多页PS文件转换为多页PDF文件时，&lt;code&gt;psconvert&lt;/code&gt; 的 &lt;code&gt;-A&lt;/code&gt; 和 &lt;code&gt;-P&lt;/code&gt; 等选项无法使用。&lt;/p&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>GMT中文社区第二次线下聚餐</title>
      <link>http://gmt-china.org/blog/GUD-20160921/</link>
      <pubDate>Tue, 27 Sep 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GUD-20160921/</guid>
      <description>&lt;p&gt;2016年9月21日，借GMT中文社区首次线下培训契机，在社区创始人田冬冬博士和GMT群管理员刘珠妹老师的号召下，GMT中文社区在湖北武汉组织了第二次线下聚餐（GMT User Dinner，简称GUD），四位群管理员和来自河北、福建、安徽、甘肃、湖北等地的共16位社区成员参加了此次聚会。&lt;/p&gt;

&lt;p&gt;聚会伊始，杨萍带来了兰州似火的热情，为大家奉上美味糖果牦牛肉，大红色的包装纸被单斌老师认成喜糖。红色代表着喜庆，象征着今天大家有缘聚在一起，也是一种皆大欢喜的团圆。随后大家自我介绍了自己的群内ID和真实姓名，社区成员对彼此的学习情况、工作经历、研究领域等有了初步认识。稍后，社区成员商讨了GMT社区网站的美观设计、腾讯网盘容量已扩容性问题、相同问题反复提问和解答等。针对上述内容，田博士希望将来可以重新设计一个漂亮的社区logo，建议把GMT社区内容重新移植回QQ群文件中，并希冀整理群问题的工作可以尽快开展，因此再次号召更多志愿者加入到GMT社区的管理和维护工作。稍后，大家谈到了亘古不变的话题“虎哥究竟是男是女”，众人仁者见仁智者见智，各持己见，瞬间聚会气氛达到了高潮，可惜的是虎哥本人并不在现场！&lt;/p&gt;

&lt;p&gt;随后田博士在师弟和美女的陪同下，参观了位于东湖之滨、珞珈山下、拥有百年历史的全国重点高校—国立武汉大学。走出武大校园后，随后乘船游览了国家5A级旅游景区—东湖。此次聚会活动虎哥没有参加，但虎哥热情依在，虎哥看完聚会照片，和大家调侃了“桂花山药”美味的一盘菜，并押宝5毛，最后在虎哥强烈邀约下，筹备了第三次线下聚餐活动。&lt;/p&gt;

&lt;p&gt;GMT社区线下聚会在轻松愉快的氛围中结束，此次聚会谈论话题广泛，但又不失主题性，为GMT社区成员之间深入交流提供了一个很好的平台，促进了GMT社区的稳健成长。遥祝GMT中文社区像东湖一样，可以永葆原创魅力，又像武汉大学一样，亦可承载一路的历史、厚重、辉煌！ “相见时难别亦难”，美好的聚会终有一别，这次聚会虽然短暂，但短暂的聚会让我们会加倍的去珍惜，希望下一次聚会再团聚！&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/images/GUD-20160921.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;参会人员从左往右依次为：章婷（湖北省地震局）、刘珠妹（中国地震局地震研究所）、王丽霞（中国地震局兰州地震研究所）、杨萍（中国地震局兰州地震研究所）、郑海刚（安徽省地震局）、谢小晋（中国地质大学-武汉）、贾媛（山东省地震局）、杨锦玲（福建省地震局）、田冬冬（中国科学技术大学）、肖晓（武汉大学）、赵志远（河北省地震局）、刘旭耀（中国地质大学-武汉）、罗娜（河北省地震局）、邓明莉（中国科学院测量与地球物理研究所）、刘成利（中国地质大学-武汉）、单斌（中国地质大学-武汉）&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>GMT中文社区首次线下培训</title>
      <link>http://gmt-china.org/blog/GMTCon-20160921/</link>
      <pubDate>Sun, 25 Sep 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMTCon-20160921/</guid>
      <description>&lt;p&gt;2016年9月21至22日，GMT中文社区协同中国地震局地震研究所和中国地震局地壳形变学科技术管理组举行了首次GMT线下培训活动。&lt;/p&gt;

&lt;p&gt;此次培训邀请了田冬冬（中国科学技术大学在读博士，社区 ID：知名不具）、单斌（中国地质大学特任教授，社区 ID：Bins）和刘珠妹（中国地震局地震研究所，社区 ID：忆尤）三位老师在湖北省地震局21楼报告厅做了《GMT入门、基础及进阶》、《GMT应用与科技论文写作》、《地学常见GMT图件模板讲解》专题培训讲座，来自全国地震系统的学员和慕名人士共计120余人参加了此次培训。&lt;/p&gt;

&lt;p&gt;此次培训考虑到培训人员GMT操作能力差异巨大，为了尽可能地照顾到所有培训人员的需求，经过一个月精心调研准备，从内容、思路、绘图技巧等方面综合考虑，确定了此次GMT专题讲座的最终主题。21日上午田冬冬博士首先介绍了GMT的概念、开发团队、GMT的版本等，随后对GMT基础知识、配置文件、常用命令进行了详细讲解，最后总结了GMT学习方法及学习资源，对GMT中文社区创建初衷、社区功能、未来发展等做了阐述，并呼吁各位仁人志士加入到GMT社区的设计和日常维护中。单斌教授对GMT做了简单介绍，随后深入浅出的介绍了GMT常用选项、常用命令、shell脚本编写等，并对GMT在科技论文中的应用做了具体实例讲解，提供了科技论文写作技巧。最后具神指出了GMT5和GMT4的语法命令区别，对学习兴趣、专业优势等和大家做了深入分享交流。22日下午刘珠妹老师对地学常见GMT图件模板进行了讲解，刘老师首先讲授了怎样读懂脚本的使用平台、脚本版本、脚本结构等内容，然后讲授了编写绘图脚本的6个基本步骤，介绍了自由空气异常图、布格异常图等几种常用绘图模板，讨论了中文支持、脚本批量运行、二次开发等GMT绘图技巧，刘老师强调在学习过程中，应对照样例修改参数，具体问题具体分析，带着问题去找答案。&lt;/p&gt;

&lt;p&gt;此次GMT专题培训授课内容全面、专题性比较强、课程安排比较合理，通过此次培训，推广了GMT的使用范围，提高了GMT软件在日常工作中实际操作应用能力，促进了GMT群和GMT中文社区的未来更快更好发展，加强了GMT群成员的交流，此次培训取得了预期效果，期待下一次培训的召开。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-1.jpg&#34; alt=&#34;田冬冬&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-2.jpg&#34; alt=&#34;单斌&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-3.jpg&#34; alt=&#34;刘珠妹&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-4.jpg&#34; alt=&#34;现场互动&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT中文社区首次线下聚餐</title>
      <link>http://gmt-china.org/blog/GUD-20160628/</link>
      <pubDate>Sat, 24 Sep 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GUD-20160628/</guid>
      <description>&lt;p&gt;2016年6月28日，GMT中文社区在北京举行了首次GMT用户线下聚餐（GMT User Dinner，简称GUD）。&lt;/p&gt;

&lt;p&gt;6月27日至29日，很多GMT用户参加了在中国科学院地质与地球物理研究所举办的“首届中国区域地震学参考模型交流会”。社区创始人田冬冬提议借此机会，举行社区的第一次线下聚会。&lt;/p&gt;

&lt;p&gt;6月28日晚，参与聚会的GMT社区用户相约前往北京北辰西路的芝麻花餐厅聚会。在聚会上，社区成员相互认识，对彼此的研究领域、GMT 学习和社区的发展进行了交流和讨论。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/images/GUD-20160628.jpg&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;左至右依次为：李佳威（中国地震局地球物理研究所）、王志伟（中国地震局地质研究所）、田冬冬（中国科学技术大学）、王亮（桂林理工大学）、李君（中国地震局第二监测中心&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>GMT国内镜像正式建成</title>
      <link>http://gmt-china.org/blog/mirror-site-founded/</link>
      <pubDate>Fri, 08 Jul 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/mirror-site-founded/</guid>
      <description>&lt;p&gt;经过本社区积极联系，GMT中国区镜像站点已于2016年7月6日正式建立，并已加入GMT官网镜像列表中。&lt;/p&gt;

&lt;p&gt;该镜像站点依托中国科学技术大学LUG服务器，是 GMT 在亚洲地区第二个镜像站，也是中国第一个镜像站。&lt;/p&gt;

&lt;p&gt;镜像地址：&lt;a href=&#34;http://mirrors.ustc.edu.cn/gmt/&#34; target=&#34;_blank&#34;&gt;http://mirrors.ustc.edu.cn/gmt/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;进入 GMT 镜像即可直接下载 GMT 源码包，Windows/Mac 安装包位于镜像的 &lt;code&gt;bin&lt;/code&gt; 目录下。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT 5.2.1编译过程中NaN报错的解决办法</title>
      <link>http://gmt-china.org/blog/GMT5.2.1-NaN-bug/</link>
      <pubDate>Sat, 04 Jun 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMT5.2.1-NaN-bug/</guid>
      <description>&lt;p&gt;在 Ubunut 16.04 或者其他比较新的 Linux 发行版下编译 GMT 5.2.1 的源码时，会出现如下错误而导致安装失败&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;non-floating-point argument in call to function &#39;__builtin_isnan&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决办法是，找到源码 &lt;code&gt;gmt-5.2.1/src/xyz2grd.c&lt;/code&gt;，将第752行的&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;(GMT_is_dnan (GMT-&amp;gt;common.d.active[GMT_IN])) ? sprintf (e_value, &amp;quot;NaN&amp;quot;) : sprintf (e_value, GMT-&amp;gt;current.setting.format_float_out, GMT-&amp;gt;common.d.nan_proxy[GMT_IN]);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;改成&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;(GMT-&amp;gt;common.d.active[GMT_IN]) ? sprintf (e_value, GMT-&amp;gt;current.setting.format_float_out, GMT-&amp;gt;common.d.nan_proxy[GMT_IN]) : sprintf (e_value, &amp;quot;NaN&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;再编译即可。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT中文社区正式成立</title>
      <link>http://gmt-china.org/blog/gmt-china-community-founded/</link>
      <pubDate>Wed, 06 Apr 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/gmt-china-community-founded/</guid>
      <description>

&lt;p&gt;GMT的中文用户们，大家好，我是 &lt;a href=&#34;https://seisman.info&#34; target=&#34;_blank&#34;&gt;seisman&lt;/a&gt; 。&lt;/p&gt;

&lt;p&gt;GMT中文社区于今日正式成立了！&lt;/p&gt;

&lt;p&gt;GMT中文社区是针对GMT中文用户而成立的社区。整个社区目前包含了三个主要部分：社区主站、GMT中文文档和问答社区。&lt;/p&gt;

&lt;p&gt;在社区的第一篇博文中，我想谈谈建立这个社区的原因及一些想法。&lt;/p&gt;

&lt;h2 id=&#34;gmt中文文档&#34;&gt;GMT中文文档&lt;/h2&gt;

&lt;p&gt;GMT中文文档的项目始于2014年，到2016年初已经初步成形。中文文档包括三个部分：参考手册、模块手册和示例集。&lt;/p&gt;

&lt;p&gt;在2014年，网络上能够找到的几本GMT中文文档，大多基于GMT4甚至GMT3。这几本文档存在一些明显的缺陷：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;排版质量一般，大多是在Word里写好然后转换成PDF的&lt;/li&gt;
&lt;li&gt;缺乏维护，几乎都是写好发布之后就没有再更新&lt;/li&gt;
&lt;li&gt;不完整，很多有价值的内容都没有被包含在文档中&lt;/li&gt;
&lt;li&gt;不严谨，很多文档声称是基于GMT4，但实际上某些命令却在使用GMT3的语法&lt;/li&gt;
&lt;li&gt;无法适配最新版的GMT，某些时候对于新用户而言是一种障碍&lt;/li&gt;
&lt;li&gt;重复劳动：不同的作者，花费了大量的时间和精力，翻译整理出了几份相似的文档，这其中很多工作都是在重复劳动&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;因而，我于2014年开始写针对GMT5的中文文档。新的GMT中文文档具有如下特点：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;开源：源代码用rST语言写成，并在GitHub上开源&lt;/li&gt;
&lt;li&gt;高质量排版：文档有网页版和PDF版，保证高质量的排版（目前尚存在不足，见第5条）&lt;/li&gt;
&lt;li&gt;完整性：尽可能覆盖GMT的方方面面，成为一个完整的参考手册（没有最完整，只有更完整，见第5条）&lt;/li&gt;
&lt;li&gt;协同合作：依托强大的GitHub和Git，使得多人合作共同编辑同一份文档变得很简单&lt;/li&gt;
&lt;li&gt;持续维护：不仅适配GMT的新版本，而且不断修正文档中存在的错误&lt;/li&gt;
&lt;li&gt;严谨性：尽可能保证所有命令均通过GMT最新版本的测试&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;经过两年努力，文档的整体结构已经大体完成。我希望文档今后能够持续更新，不断完善，不管是接下来的GMT 5.2.2、5.3.0还是未来的GMT 6.0甚至7.0，都能随着GMT版本的升级而不断更新，但这些已非我一人之力所能完成。众人拾柴火焰高。我希望有更多的GMT中文用户加入到文档维护的队伍中来，这便是我建立GMT中文社区的目的。&lt;/p&gt;

&lt;h2 id=&#34;问答社区&#34;&gt;问答社区&lt;/h2&gt;

&lt;p&gt;GMT问答社区的前身是地学GMT学习群（群号：218905582）。QQ群属于即时通讯，通常在群中提的问题都可以快速得到答案，但与此同时，QQ群存在如下缺点：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;即时性导致的随意性：由于QQ本质上是一种聊天工具，导致很多人在提问时太过随意。遇到问题时，不加思索在QQ群中提问，却不去思考如何提问，如何在提问时提供完整有效的信息，如何在提问时解释清楚自己想要实现什么和遇到了什么问题。QQ群中的很多提问都是如此，需要回答者多次向提问者发问才能搞清楚提问者的问题。这不仅浪费了回答者的时间，也不利于提问者能力的提高。&lt;/li&gt;
&lt;li&gt;多话题引起的错乱：经常遇到几个人同时提问，几个话题互相交叉，使得搞不清到底谁在回复谁&lt;/li&gt;
&lt;li&gt;问答记录无法长期保存：只有用户接收到的消息会被保存到本地磁盘中，而对于新加入的成员而言，则无法看到历史聊天记录&lt;/li&gt;
&lt;li&gt;问答记录无法搜索：仅当聊天记录保存在本地磁盘中才能被搜索，无法通过搜索引擎检索&lt;/li&gt;
&lt;li&gt;问答记录无法被非群成员搜索：有大量的GMT用户未加入群中，这些非成员则无法获取这些优质的问答资源&lt;/li&gt;
&lt;li&gt;Linux用户提问不便：Linux下几乎没有可用的QQ客户端，导致众多Linux下的GMT用户只能通过手机打字在群中提问，且只能通过手机拍照的方式上传屏幕截图&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;鉴于QQ群的以上几个缺点，萌生了建立问答社区的想法。希望这样一个问答社区可以解决QQ群存在的问题。问答社区将努力保持高信噪比，专注于GMT的问与答。&lt;/p&gt;

&lt;h2 id=&#34;gmt中文社区&#34;&gt;GMT中文社区&lt;/h2&gt;

&lt;p&gt;最初是计划把中文文档以及问答社区都放在我自己的博客域名之下的，但这样做一方面不够正式，另一方面也会影响到我对于自己博客的整体定位。最终经过一番考量之后，决定单独购买域名，建立GMT中文社区，然后将文档以及问答社区作为GMT中文社区的子项目。&lt;/p&gt;

&lt;p&gt;现在，整个GMT中文社区的基本框架已经搭建完毕。我希望它能顺利运行下去，也欢迎更多的人提意见和建议，加入到整个社区的维护中来。&lt;/p&gt;

&lt;p&gt;最后，我要感谢王亮在整个社区的建立过程中和我交流与讨论，并给出了很多有意义的建议。我还要感谢各种开源服务，我的工作是建立在它们之上的。我也希望华语地学界有更多的人了解开源、认同开源、热爱开源并最终参与到开源中来。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>