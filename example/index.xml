<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Example-rsses on GMT 中文社区</title>
    <link>http://gmt-china.org/example/index.xml</link>
    <description>Recent content in Example-rsses on GMT 中文社区</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cmn-Hans</language>
    <managingEditor>admin@gmt-china.org (GMT 中文社区)</managingEditor>
    <webMaster>admin@gmt-china.org (GMT 中文社区)</webMaster>
    <copyright>Powered by [Hugo](https://gohugo.io) &amp; Hosted by [GitHub](https://github.com/gmt-china/gmt-china.org).</copyright>
    <lastBuildDate>Wed, 23 Nov 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://gmt-china.org/example/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>含中国大陆地区的地形图</title>
      <link>http://gmt-china.org/example/ex010/</link>
      <pubDate>Wed, 23 Nov 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex010/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/example/ex010/eq.dat&#34;&gt;eq.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/blog/etopo1&#34;&gt;ETOPO1_Ice.grd&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文展示了如何用 ETOPO1 数据绘制含中国大陆地区的地形图，同时也展示了如何通过 awk 对数据进行筛选，以及如何绘制简单的图例。&lt;/p&gt;

&lt;p&gt;下面是绘图所使用的bash脚本，同时也提供了一个功能相同的 &lt;a href=&#34;http://gmt-china.org/example/ex010/topo.bat&#34;&gt;bat脚本&lt;/a&gt;。



&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash

PS=topo.ps
eqfile=eq.dat
R=70/135/15/55

gmt grdcut ETOPO1_Ice.grd -R$R -GcutTopo.grd
gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd
gmt grd2cpt cutTopo.grd -Cglobe -S-10000/10000/200 -Z -D &amp;gt; colorTopo.cpt

#绘制底图
gmt gmtset FORMAT_GEO_MAP=ddd:mm:ssF
gmt psbasemap -R$R -JM7i -Ba10f5 -BWesN -Xc -Yc -K &amp;gt; $PS
gmt grdimage cutTopo.grd -R -J -IcutTopo_i.grd -CcolorTopo.cpt -Q -O -K &amp;gt;&amp;gt;$PS
gmt pscoast -R -J -Dh -W1/0.2p -I1/0.25p -N1/0.5p -O -K &amp;gt;&amp;gt;$PS

#绘制colorbar
gmt psscale -R -J -DjCB&amp;#43;w7i/0.15i&amp;#43;o0/-0.5i&amp;#43;h -CcolorTopo.cpt -Bxa2000f400&amp;#43;l&amp;#34;Elevation/m&amp;#34; -G-8000/8000 -O -K &amp;gt;&amp;gt;$PS

#分震级绘制地震
awk &amp;#39;$3&amp;gt;=5.0 &amp;amp;&amp;amp; $3&amp;lt;6.0 {print $1,$2,$3*0.04}&amp;#39; $eqfile | gmt psxy -R -J -Sc -Gblue -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=6.0 &amp;amp;&amp;amp; $3&amp;lt;7.0 {print $1,$2,$3*0.04}&amp;#39; $eqfile | gmt psxy -R -J -Sc -Gred -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=7.0 &amp;amp;&amp;amp; $3&amp;lt;8.0 {print $1,$2,$3*0.06}&amp;#39; $eqfile | gmt psxy -R -J -Sa -Ggreen -W0.4p,black -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=8.0 {print $1,$2,$3*0.06}&amp;#39; $eqfile | gmt psxy -R -J -Sa -Gpurple -W0.4p,black -O -K &amp;gt;&amp;gt; $PS

#绘制图例
gmt pslegend -R -J -DjBR&amp;#43;w0.8i&amp;#43;l1.2&amp;#43;o0 -F&amp;#43;g229&amp;#43;p0.25p -O -K &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt;EOF
G 0.01i
H 8 4 MAGNITUDE
C blue
S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9
C red
S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9
C green
S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9
C purple
S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9
EOF

gmt psxy -R -J -T -O &amp;gt;&amp;gt;$PS
gmt psconvert $PS -A -Tg -P
rm gmt.* cutTopo*.grd colorTopo.cpt
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;绘图效果：

&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex010/topo.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;含中国大陆地区的地形图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>绘制晨昏线及太阳位置</title>
      <link>http://gmt-china.org/example/ex009/</link>
      <pubDate>Tue, 01 Nov 2016 00:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex009/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/example/ex009/sunglasses.eps&#34;&gt;sunglasses.eps&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文利用 GMT 5.3 中新增的 &lt;code&gt;pssolar&lt;/code&gt; 模块绘制了晨昏线并计算得到太阳的位置，同时利用 &lt;code&gt;psxy&lt;/code&gt; 的新增功能，直接将 &lt;code&gt;eps&lt;/code&gt; 格式的太阳图片绘制在指定位置。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
# 绘制指定时间晨昏线，太阳位置

PS=solar.ps

# 绘制全球底图及海陆分布
gmt pscoast -Rd -JKs0/10i -Dl -A5000 -W0.5p -N1/0.5p,gray -S175/210/255 -Bafg --MAP_FRAME_TYPE=plain -K &amp;gt; $PS

# 绘制晨昏线
gmt pssolar -R  -J -Td&amp;#43;d2016-02-09T16:00:00 -Gnavy@95 -K -O &amp;gt;&amp;gt; $PS

# 绘制不同定义的晨昏区
gmt pssolar -R  -J -Tc&amp;#43;d2016-02-09T16:00:00 -Gnavy@85 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Tn&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Ta&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS

# 计算指定时间太阳位置并绘制在底图上
gmt pssolar -I&amp;#43;d2016-02-09T16:00:00 -C | gmt psxy -R -J -Sksunglasses/1.5c -Gyellow -O &amp;gt;&amp;gt; $PS

rm gmt.*
# 转换为PDF文件查看透明效果
#gmt psconvert $ps -A -Tf
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex009/solar.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;绘制晨昏线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国一级河流数据</title>
      <link>http://gmt-china.org/example/ex008/</link>
      <pubDate>Tue, 25 Oct 2016 15:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex008/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Rivers.dat&#34;&gt;CN-Rivers.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Rivers.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制一级河流数据
gmt psxy CN-Rivers.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex008/CN-Rivers.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国一级河流&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国断层数据</title>
      <link>http://gmt-china.org/example/ex007/</link>
      <pubDate>Tue, 25 Oct 2016 14:50:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex007/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-faults.dat&#34;&gt;CN-faults.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;断层数据来源于邓起东院士。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-faults.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制断层数据
gmt psxy CN-faults.dat -J$J -R$R -W0.5p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex007/CN-faults.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国断层线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国铁路线</title>
      <link>http://gmt-china.org/example/ex006/</link>
      <pubDate>Tue, 25 Oct 2016 14:34:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex006/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Railways.dat&#34;&gt;CN-Railways.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;铁路线数据来源于 MapSIS。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Railways.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p,gray -O -K &amp;gt;&amp;gt; $PS

# 两次 psxy 命令使用不同的画笔属性以得到图中所示的铁轨效果
gmt psxy CN-Railways.dat -J$J -R$R -W1.2p,black -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-Railways.dat -J$J -R$R -W0.8p,white,8_8: -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -O -T &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex006/CN-Railways.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国铁路线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国地震区域划分</title>
      <link>http://gmt-china.org/example/ex005/</link>
      <pubDate>Tue, 25 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex005/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion.dat&#34;&gt;CN-EQRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion-name.dat&#34;&gt;CN-EQRegion-name.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion.dat&#34;&gt;CN-EQSubRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion-name.dat&#34;&gt;CN-EQSubRegion-name.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文提供了中国地震区划数据。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=65/145/12/56
J=M105/6.5i
PS=CN-EQRegion.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w500k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0p,gray70 -O -K &amp;gt;&amp;gt; $PS

# 绘制地震亚区
gmt psxy CN-EQSubRegion.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQSubRegion-name.dat -J$J -R$R -F&amp;#43;f8p,35,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制地震区
gmt psxy CN-EQRegion.dat -J$J -R$R -W1p,red -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQRegion-name.dat -J$J -R$R -F&amp;#43;f10p,35,red -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex005/CN-EQRegion.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地震区域划分&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国省会城市分布图</title>
      <link>http://gmt-china.org/example/ex004/</link>
      <pubDate>Mon, 24 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex004/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-capitals.dat&#34;&gt;CN-capitals.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文整理并绘制了中国省会城市的分布图，同时展示了如何巧妙地利用 &lt;code&gt;pstext&lt;/code&gt; 模块的功能来灵活地放置城市名的位置。&lt;/p&gt;

&lt;p&gt;绘图脚本如下：



&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-capitals.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10  -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.4p,gray50 -K -O &amp;gt;&amp;gt; $PS

# 绘制省会位置
## 此处使用两次 psxy 命令以实现图中所示的空心圆叠加实心圆的效果
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.08c -Gblack -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.15c -W0.2p,black -K -O &amp;gt;&amp;gt; $PS
# 绘制省会名称
gmt pstext CN-capitals.dat -J$J -R$R -F&amp;#43;f7p,35&amp;#43;j -Dj0.15c/0.15c -K -O &amp;gt;&amp;gt; $PS
# 标记北京所在位置
echo 116.46 39.92 | gmt psxy -J$J -R$R -Gred -Sa0.4c -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项参数为 &lt;code&gt;-F+f7p,35+j&lt;/code&gt; ，即使用大小为 7p 的 35 号字体写城市名。由于使用了 &lt;code&gt;+j&lt;/code&gt; 选项，因而输入文件需要有四列，分别是经度、纬度、文本对齐方式以及城市名，具体内容如下（此处为了节省空间，只显示了个别几个城市的数据）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# 经度    纬度   对齐方式  城市名
121.48   31.22    ML    上海
...
112.53   37.87    TC    太原
...
101.74   36.56    MR    西宁
...
117.27   31.86    CB    合肥
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 默认会将城市名放在城市所在处，因而要使用 &lt;code&gt;-D&amp;lt;dx&amp;gt;/&amp;lt;dy&amp;gt;&lt;/code&gt; 选项将城市名沿着X和Y方向分别移动 &lt;code&gt;&amp;lt;dx&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;dy&amp;gt;&lt;/code&gt;。上面的示例中使用了 &lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt;，关键在于其中 &lt;code&gt;j&lt;/code&gt; 的使用，其使得文本会沿着文本对齐方式所定义的方向移动。比如：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;“上海”的对齐方式是 &lt;code&gt;ML&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;L&lt;/strong&gt;eft），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“上海”向右移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“西宁”的对齐方式是 &lt;code&gt;MR&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;R&lt;/strong&gt;ight），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向左移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“太原”的对齐方式是 &lt;code&gt;TC&lt;/code&gt;（即 &lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向下移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“合肥”的对齐方式是 &lt;code&gt;BC&lt;/code&gt;（即 &lt;strong&gt;B&lt;/strong&gt;ottom &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“西宁”向上移动了 0.15 厘米&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;你也可以尝试以下其他对齐方式下 &lt;code&gt;-Dj&lt;/code&gt; 的具体效果。&lt;/p&gt;

&lt;p&gt;最终绘图效果如下图：&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex004/CN-capitals.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国省会城市分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国国界、省界及九段线</title>
      <link>http://gmt-china.org/example/ex003/</link>
      <pubDate>Sun, 23 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex003/</guid>
      <description>

&lt;p&gt;由于 GMT 自带的国界线数据不符合中国领土主张，因而在绘制用于正式图件时用户需要自己准备国界数据。本文提供了笔者自己数字化的几个国界相关数据以及两个绘制中国地图的脚本。&lt;/p&gt;

&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载： &lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-border-L1.dat&#34;&gt;CN-border-L1.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/nine-dash-line.dat&#34;&gt;nine-dash-line.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;div class=&#34;alert alert-info&#34; role=&#34;alert&#34;&gt;&lt;ol&gt;
&lt;li&gt;无法保证国界数据完全准确或可通过地图审核；&lt;/li&gt;
&lt;li&gt;欢迎用户共享更准确的国界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-La.dat&lt;/code&gt; 中包含最全的信息，包括国界、省界、九段线以及南海诸多小岛；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-L1.dat&lt;/code&gt; 包含国界、九段线以及南海诸岛数据，不含省界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nine-dash-line.dat&lt;/code&gt; 仅包含九段线数据；&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;


&lt;h2 id=&#34;jd-等距圆锥投影&#34;&gt;-JD 等距圆锥投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/140/3/60
J=D105/35/36/42/7.5i
PS=CN-border-JD.ps

gmt set FONT_ANNOT_PRIMARY 9p FORMAT_GEO_MAP ddd:mm:ssF
gmt set MAP_FRAME_WIDTH 2p MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/11&amp;#43;c11&amp;#43;w900k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JD.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 id=&#34;jm-墨卡托投影&#34;&gt;-JM 墨卡托投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-border-JM.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JM.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>震源机制分布图</title>
      <link>http://gmt-china.org/example/ex001/</link>
      <pubDate>Mon, 03 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex001/</guid>
      <description>&lt;p&gt;本示例展示了如何绘制震源球的分布图。震级的大小由震源球的大小来表征，震源的深度则由震源球的压缩象限的颜色表示。&lt;/p&gt;




&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
#   绘制震源机制分布图，震级控制震源球大小，深度控制震源球颜色

J=Q104/15c
R=102.5/105.5/30.5/32.5
PS=beachball.ps
CPT=meca.cpt

# 生成CPT文件，为每个深度段设置不同的颜色
cat &amp;lt;&amp;lt; EOF &amp;gt; $CPT
 0   0-1-1   20   0-1-1
20  60-1-1   40  60-1-1
40 120-1-1   60 120-1-1
60 240-1-1  100 240-1-1
EOF

gmt psbasemap -J$J -R$R -B1 -BWSen -P -K &amp;gt; $PS
gmt pscoast -J -R -Da -Ia/0.05,black -K -O &amp;gt;&amp;gt; $PS
gmt psmeca -J -R -CP5p -Sa1.3c -Z$CPT -K -O &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt; EOF
# 经度 纬度 深度(km) strike dip rake 震级 newX newY ID
104.3300  31.90    39.8  32.00 64.00   85.00  7.0 0        0       A
104       31.52    27.1  22.00 53.00   57.00  6.0 0        0       B
103.6700  31.1300   6.4  86.00 32.00  -65.00  8.0 0        0       C
103.900   31.3400  43.6 194.00 84.00  179.00  4.9 104.180  30.8400 D
103.7200  31.4400  67.3  73.00 84.00 -162.00  4.9 103.120  31.6400 E
104.1200  31.7800  12.7 186.00 68.00  107.00  4.7 103.830  32.2600 F
104.2300  31.6100  62.0  86.00 63.00  -51.00  4.7 104.960  31.6900 G
EOF

gmt psscale -J -R -C$CPT -DjBL&amp;#43;w5c/0.5c&amp;#43;ml&amp;#43;o0.8c/0.4c -Bx&amp;#43;lDepth -By&amp;#43;lkm -L -S -K -O &amp;gt;&amp;gt; $PS
gmt psxy -J -R -T -O &amp;gt;&amp;gt; $PS
rm gmt.* $CPT
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex001/beachball.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;震源球分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>绘制地球内部主要界面</title>
      <link>http://gmt-china.org/example/ex002/</link>
      <pubDate>Wed, 31 Aug 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex002/</guid>
      <description>&lt;p&gt;在利用地震波研究地球深部结构时，经常需要绘制震相在深度剖面下的射线路径，同时也需要绘制地球内部的主要界面。&lt;/p&gt;

&lt;p&gt;震相的射线路径可以用 &lt;a href=&#34;http://www.seis.sc.edu/taup/&#34; target=&#34;_blank&#34;&gt;TauP&lt;/a&gt; 提供的 &lt;code&gt;taup_path&lt;/code&gt; 命令计算得到，然后在极坐标系 &lt;code&gt;-JP&lt;/code&gt; 中绘制。难点在于如何绘制几个主要界面。&lt;/p&gt;

&lt;p&gt;本示例将展示如何绘制震中距为30度的 PcP 和 PKiKP 震相的射线路径，同时绘制地球内的410、660界面以及 CMB 和 ICB。最终的绘图效果如下：&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex002/earth-discontinuities.png&#34; width=&#34;300px&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;震相射线路径&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;绘图脚本如下：&lt;/p&gt;




&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
J=Pa10c/15
R=-10/40/0/6371
PS=earth-discontinuities.ps

gmt set MAP_GRID_PEN_PRIMARY 1p

# 绘制地表
gmt psbasemap -J$J -R$R -Byg6371 -Bs -K &amp;gt; $PS
# 绘制 410 界面
gmt psbasemap -J$J -R$R -Byg6371&amp;#43;5961 -Bs -K -O &amp;gt;&amp;gt; $PS
# 绘制 660 界面
gmt psbasemap -J$J -R$R -Byg6371&amp;#43;5711 -Bs -K -O &amp;gt;&amp;gt; $PS
# 绘制 CMB
gmt psbasemap -J$J -R$R -Byg6371&amp;#43;3480 -Bs -K -O &amp;gt;&amp;gt; $PS
# 绘制 ICB
gmt psbasemap -J$J -R$R -Byg6371&amp;#43;1221 -Bs -K -O &amp;gt;&amp;gt; $PS

# 计算并绘制震相的射线路径
taup_path -mod prem -ph PcP -h 300 -deg 30 -o PcP.raypath
taup_path -mod prem -ph PKiKP -h 300 -deg 30 -o PKiKP.raypath
gmt psxy PcP.raypath.gmt -W1p,blue -J$J -R$R -K -O &amp;gt;&amp;gt; $PS
gmt psxy PKiKP.raypath.gmt -W1p,red -J$J -R$R -K -O &amp;gt;&amp;gt; $PS

# 绘制震源和台站位置
gmt psxy -J$J -R$R -S -Gblack -N -K -O &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt; EOF
0 6071 0.4c a
30 6471 0.4c i
EOF

# 添加标注
gmt pstext -J$J -R$R -F&amp;#43;f11p&amp;#43;a -N -K -O &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt; EOF
-6 6170 20 Surface
-6 3280 20 CMB
-3 1020 20 ICB
16 4100 0 @;blue;PcP@;;
37 1600 0 @;red;PKiKP@;;
EOF

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.* *.raypath.gmt
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;脚本中使用了五个 &lt;code&gt;psbasemap&lt;/code&gt; 命令分别绘制五个界面。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;第一个 &lt;code&gt;psbasemap&lt;/code&gt; 用于绘制地表， &lt;code&gt;-Byg6371&lt;/code&gt; 表明要在 Y 方向（极坐标下即 R 方向）以6371为间隔绘制网格线，由于地球半径是6371，所以理论上会在R=0和 R=6371 两处绘制网格线。 &lt;code&gt;-Bs&lt;/code&gt; 的作用是只绘制 R=6371 处的网格线，且只绘制网格线而不绘制刻度；&lt;/li&gt;
&lt;li&gt;第二个 &lt;code&gt;pabasemap&lt;/code&gt; 用于绘制410界面，其与前一命令基本相同，唯一的区别是 &lt;code&gt;-Byg6371+5961&lt;/code&gt; 中多了 &lt;code&gt;+5961&lt;/code&gt;，其作用是定义网格线的起算点，即此时将在 R=5961（即410界面）处绘制网格线。&lt;/li&gt;
&lt;li&gt;其他同理&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>