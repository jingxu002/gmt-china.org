<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>GMT 中文社区</title>
    <link>http://gmt-china.org/index.xml</link>
    <description>Recent content on GMT 中文社区</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cmn-Hans</language>
    <managingEditor>admin@gmt-china.org (GMT 中文社区)</managingEditor>
    <webMaster>admin@gmt-china.org (GMT 中文社区)</webMaster>
    <copyright>Powered by [Hugo](https://gohugo.io) &amp; Hosted by [GitHub](https://github.com/gmt-china/gmt-china.org).</copyright>
    <lastBuildDate>Tue, 01 Nov 2016 00:30:00 +0000</lastBuildDate>
    <atom:link href="http://gmt-china.org/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>绘制晨昏线及太阳位置</title>
      <link>http://gmt-china.org/example/ex009/</link>
      <pubDate>Tue, 01 Nov 2016 00:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex009/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/example/ex009/sunglasses.eps&#34;&gt;sunglasses.eps&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文利用 GMT 5.3 中新增的 &lt;code&gt;pssolar&lt;/code&gt; 模块绘制了晨昏线并计算得到太阳的位置，同时利用 &lt;code&gt;psxy&lt;/code&gt; 的新增功能，直接将 &lt;code&gt;eps&lt;/code&gt; 格式的太阳图片绘制在指定位置。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
# 绘制指定时间晨昏线，太阳位置

PS=solar.ps

# 绘制全球底图及海陆分布
gmt pscoast -Rd -JKs0/10i -Dl -A5000 -W0.5p -N1/0.5p,gray -S175/210/255 -Bafg --MAP_FRAME_TYPE=plain -K &amp;gt; $PS

# 绘制晨昏线
gmt pssolar -R  -J -Td&amp;#43;d2016-02-09T16:00:00 -Gnavy@95 -K -O &amp;gt;&amp;gt; $PS

# 绘制不同定义的晨昏区
gmt pssolar -R  -J -Tc&amp;#43;d2016-02-09T16:00:00 -Gnavy@85 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Tn&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Ta&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS

# 计算指定时间太阳位置并绘制在底图上
gmt pssolar -I&amp;#43;d2016-02-09T16:00:00 -C | gmt psxy -R -J -Sksunglasses/1.5c -Gyellow -O &amp;gt;&amp;gt; $PS

rm gmt.*
# 转换为PDF文件查看透明效果
#gmt psconvert $ps -A -Tf
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex009/solar.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;绘制晨昏线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Windows 下可用的 Unix 工具</title>
      <link>http://gmt-china.org/blog/unix-tools-for-windows/</link>
      <pubDate>Sat, 29 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/unix-tools-for-windows/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;下载地址：&lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;为满足 Windows 下的 GMT 用户对 Linux 工具的需求，我们将常用的 Linux 工具打包供 Windows 用户下载使用。&lt;/p&gt;

&lt;p&gt;直接下载 &lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt; 并将解压得到的 exe 文件复制到 GMT 的 bin 目录即可（比如默认的 &lt;code&gt;C:\programs\gmt5\bin&lt;/code&gt; ）。&lt;/p&gt;

&lt;p&gt;软件包中包含如下程序：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cat&lt;/code&gt;：显示文件内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cut&lt;/code&gt;：从指定文本中截取文本并输出至标准输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gawk&lt;/code&gt;：处理文本信息的编程语言工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grep&lt;/code&gt;：从指定文本或标准输入中识别并截取出特定字段等&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head&lt;/code&gt;：输出一个或多个指定文本的前n行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;join&lt;/code&gt;：将两个文件中文本一致的行连接并输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;md5sum&lt;/code&gt;：检验文本的MD5摘要&lt;/li&gt;
&lt;li&gt;&lt;code&gt;paste&lt;/code&gt;：并排输出两个文件的内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;printf&lt;/code&gt;：按C语言格式输出文本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed&lt;/code&gt;：文本处理工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sort&lt;/code&gt;：对文本文档进行排序&lt;/li&gt;
&lt;li&gt;&lt;code&gt;split&lt;/code&gt;：以行为单位切割文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tail&lt;/code&gt;：显示文件尾端的n行数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uniq&lt;/code&gt;：从文本中去除或禁止重复行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wc&lt;/code&gt;：输出指定文件的行数、字数和文本数据大小&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以上 Unix 工具均提取自 &lt;a href=&#34;http://www.ms4w.com&#34; target=&#34;_blank&#34;&gt;MS4W&lt;/a&gt; 。&lt;/p&gt;

&lt;p&gt;如果你发现某些工具存在问题，或者觉得有其他需要的 Unix 工具没有被包含进来，请向我们反馈，我们会酌情考虑。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国一级河流数据</title>
      <link>http://gmt-china.org/example/ex008/</link>
      <pubDate>Tue, 25 Oct 2016 15:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex008/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Rivers.dat&#34;&gt;CN-Rivers.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Rivers.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制一级河流数据
gmt psxy CN-Rivers.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex008/CN-Rivers.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国一级河流&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国断层数据</title>
      <link>http://gmt-china.org/example/ex007/</link>
      <pubDate>Tue, 25 Oct 2016 14:50:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex007/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-faults.dat&#34;&gt;CN-faults.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;断层数据来源于邓起东院士。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-faults.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制断层数据
gmt psxy CN-faults.dat -J$J -R$R -W0.5p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex007/CN-faults.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国断层线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国铁路线</title>
      <link>http://gmt-china.org/example/ex006/</link>
      <pubDate>Tue, 25 Oct 2016 14:34:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex006/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Railways.dat&#34;&gt;CN-Railways.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;铁路线数据来源于 MapSIS。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Railways.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p,gray -O -K &amp;gt;&amp;gt; $PS

# 两次 psxy 命令使用不同的画笔属性以得到图中所示的铁轨效果
gmt psxy CN-Railways.dat -J$J -R$R -W1.2p,black -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-Railways.dat -J$J -R$R -W0.8p,white,8_8: -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -O -T &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex006/CN-Railways.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国铁路线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国地震区域划分</title>
      <link>http://gmt-china.org/example/ex005/</link>
      <pubDate>Tue, 25 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex005/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion.dat&#34;&gt;CN-EQRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion-name.dat&#34;&gt;CN-EQRegion-name.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion.dat&#34;&gt;CN-EQSubRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion-name.dat&#34;&gt;CN-EQSubRegion-name.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文提供了中国地震区划数据。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=65/145/12/56
J=M105/6.5i
PS=CN-EQRegion.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w500k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0p,gray70 -O -K &amp;gt;&amp;gt; $PS

# 绘制地震亚区
gmt psxy CN-EQSubRegion.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQSubRegion-name.dat -J$J -R$R -F&amp;#43;f8p,35,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制地震区
gmt psxy CN-EQRegion.dat -J$J -R$R -W1p,red -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQRegion-name.dat -J$J -R$R -F&amp;#43;f10p,35,red -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex005/CN-EQRegion.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地震区域划分&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国省会城市分布图</title>
      <link>http://gmt-china.org/example/ex004/</link>
      <pubDate>Mon, 24 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex004/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-capitals.dat&#34;&gt;CN-capitals.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文整理并绘制了中国省会城市的分布图，同时展示了如何巧妙地利用 &lt;code&gt;pstext&lt;/code&gt; 模块的功能来灵活地放置城市名的位置。&lt;/p&gt;

&lt;p&gt;绘图脚本如下：



&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-capitals.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10  -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.4p,gray50 -K -O &amp;gt;&amp;gt; $PS

# 绘制省会位置
## 此处使用两次 psxy 命令以实现图中所示的空心圆叠加实心圆的效果
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.08c -Gblack -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.15c -W0.2p,black -K -O &amp;gt;&amp;gt; $PS
# 绘制省会名称
gmt pstext CN-capitals.dat -J$J -R$R -F&amp;#43;f7p,35&amp;#43;j -Dj0.15c/0.15c -K -O &amp;gt;&amp;gt; $PS
# 标记北京所在位置
echo 116.46 39.92 | gmt psxy -J$J -R$R -Gred -Sa0.4c -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项参数为 &lt;code&gt;-F+f7p,35+j&lt;/code&gt; ，即使用大小为 7p 的 35 号字体写城市名。由于使用了 &lt;code&gt;+j&lt;/code&gt; 选项，因而输入文件需要有四列，分别是经度、纬度、文本对齐方式以及城市名，具体内容如下（此处为了节省空间，只显示了个别几个城市的数据）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# 经度    纬度   对齐方式  城市名
121.48   31.22    ML    上海
...
112.53   37.87    TC    太原
...
101.74   36.56    MR    西宁
...
117.27   31.86    CB    合肥
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 默认会将城市名放在城市所在处，因而要使用 &lt;code&gt;-D&amp;lt;dx&amp;gt;/&amp;lt;dy&amp;gt;&lt;/code&gt; 选项将城市名沿着X和Y方向分别移动 &lt;code&gt;&amp;lt;dx&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;dy&amp;gt;&lt;/code&gt;。上面的示例中使用了 &lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt;，关键在于其中 &lt;code&gt;j&lt;/code&gt; 的使用，其使得文本会沿着文本对齐方式所定义的方向移动。比如：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;“上海”的对齐方式是 &lt;code&gt;ML&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;L&lt;/strong&gt;eft），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“上海”向右移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“西宁”的对齐方式是 &lt;code&gt;MR&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;R&lt;/strong&gt;ight），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向左移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“太原”的对齐方式是 &lt;code&gt;TC&lt;/code&gt;（即 &lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向下移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“合肥”的对齐方式是 &lt;code&gt;BC&lt;/code&gt;（即 &lt;strong&gt;B&lt;/strong&gt;ottom &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“西宁”向上移动了 0.15 厘米&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;你也可以尝试以下其他对齐方式下 &lt;code&gt;-Dj&lt;/code&gt; 的具体效果。&lt;/p&gt;

&lt;p&gt;最终绘图效果如下图：&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex004/CN-capitals.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国省会城市分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国国界、省界及九段线</title>
      <link>http://gmt-china.org/example/ex003/</link>
      <pubDate>Sun, 23 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex003/</guid>
      <description>

&lt;p&gt;由于 GMT 自带的国界线数据不符合中国领土主张，因而在绘制用于正式图件时用户需要自己准备国界数据。本文提供了笔者自己数字化的几个国界相关数据以及两个绘制中国地图的脚本。&lt;/p&gt;

&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载： &lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-border-L1.dat&#34;&gt;CN-border-L1.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/nine-dash-line.dat&#34;&gt;nine-dash-line.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;div class=&#34;alert alert-info&#34; role=&#34;alert&#34;&gt;&lt;ol&gt;
&lt;li&gt;无法保证国界数据完全准确或可通过地图审核；&lt;/li&gt;
&lt;li&gt;欢迎用户共享更准确的国界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-La.dat&lt;/code&gt; 中包含最全的信息，包括国界、省界、九段线以及南海诸多小岛；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-L1.dat&lt;/code&gt; 包含国界、九段线以及南海诸岛数据，不含省界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nine-dash-line.dat&lt;/code&gt; 仅包含九段线数据；&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;


&lt;h2 id=&#34;jd-等距圆锥投影&#34;&gt;-JD 等距圆锥投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/140/3/60
J=D105/35/36/42/7.5i
PS=CN-border-JD.ps

gmt set FONT_ANNOT_PRIMARY 9p FORMAT_GEO_MAP ddd:mm:ssF
gmt set MAP_FRAME_WIDTH 2p MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/11&amp;#43;c11&amp;#43;w900k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JD.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 id=&#34;jm-墨卡托投影&#34;&gt;-JM 墨卡托投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-border-JM.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JM.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT 5.3.1 发布</title>
      <link>http://gmt-china.org/blog/GMT-5.3.1-released/</link>
      <pubDate>Sat, 22 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMT-5.3.1-released/</guid>
      <description>

&lt;p&gt;2016年10月21日，GMT 官方发布了 GMT5 的 5.3.1 版本。此前不久，GMT4 也更新了 4.5.15 版本。&lt;/p&gt;

&lt;p&gt;GMT 5.3.1 相对于 5.2.1 上的改进主要包括：&lt;/p&gt;

&lt;h2 id=&#34;新增模块&#34;&gt;新增模块&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pssolar&lt;/code&gt;: 绘制晨昏线和其他日照参数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtpmodeler&lt;/code&gt;: 用给定点评价板块运动模型&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rotsmoother&lt;/code&gt;: 以四分法平滑板块的旋转角并给出估计协方差&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pssac&lt;/code&gt;: 绘制以 SAC 格式存储的地震波形数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpsgridder&lt;/code&gt;: 利用弹性形变理论下的格林函数对GPS应变矢量进行插值&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;其他重要更新&#34;&gt;其他重要更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;CPT文件新增了一个称为 hinge 的属性。GMT官方给的40个CPT都是动态、存在hinge和有一个默认范围的。因此，大部分CPT的值都被归一化在0-1的区间内，而那些具有hinge的CPT文件的值则被归一化到了-1/+1的区间内，0就自然而然地成为了归一化后的颜色转折点。在CPT文件的插值中，hinge两边的数据是分开进行的。因此，在hinge处通常颜色变化较大。另外，当要求CPT文件中包含对称的范围时,我们可以保证hinge处的颜色不会变换到其他Z值所对应的颜色上去。当范围没有给定时，CPT文件将应用默认范围。&lt;/li&gt;
&lt;li&gt;GMT官方统一了地图各装饰项的指定方式，其中包括：比例尺、色标、图例、方位标、插图、GMT的logo和背景图片等。GMT手册中新开了一节专门来讲其指定方式。其实该部分的主要概念就是这些条目对齐方式和距离的参考点。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grdlandmask&lt;/code&gt; 和 &lt;code&gt;sph2grd&lt;/code&gt; 支持 OpenMP 并行&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;模块更新&#34;&gt;模块更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;filter1d&lt;/code&gt; 支持高通滤波&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtinfo&lt;/code&gt; 新添了 &lt;code&gt;-L&lt;/code&gt; 选项以的的多个文件或多段数据的共同边界&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtmath&lt;/code&gt; 和 &lt;code&gt;grdmath&lt;/code&gt; 增加了一些新的数学操作&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项新增了功能，使得用户可以生成自动标注&lt;/li&gt;
&lt;li&gt;&lt;code&gt;psxy&lt;/code&gt;:

&lt;ul&gt;
&lt;li&gt;支持绘制装饰线，即绘制线的同时沿着线绘制符号&lt;/li&gt;
&lt;li&gt;线段两端可以添加箭头&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-SE&lt;/code&gt;、&lt;code&gt;-SJ&lt;/code&gt;、&lt;code&gt;-S=&lt;/code&gt; 等选项可以接不同单位的地理量来指定符号的大小&lt;/li&gt;
&lt;li&gt;新增了弯曲箭头来表示 fault-slip&lt;/li&gt;
&lt;li&gt;支持向内箭头&lt;/li&gt;
&lt;li&gt;自定义符号可以是一个已经存在的EPS文件&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>MIF2GMT：将MIF转换为GMT可用的数据格式</title>
      <link>http://gmt-china.org/blog/mif2gmt/</link>
      <pubDate>Tue, 18 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/mif2gmt/</guid>
      <description>

&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;程序下载： &lt;a href=&#34;http://gmt-china.org/datas/MIF2GMT.exe&#34;&gt;MIF2GMT.exe&lt;/a&gt; 源码：&lt;a href=&#34;https://github.com/gmt-china/GMT_tools/tree/master/MIF2GMT&#34; target=&#34;_blank&#34;&gt;MIF2GMT&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;工作中经常用到的一些数据，如断层、国界、省界、居民点，很多是MapInfo的TAB、MIF等文件格式，不能在GMT中直接使用，需要经过转换方可使用。&lt;/p&gt;

&lt;p&gt;MIF2GMT 是一个将 MIF 格式的数据转换为 GMT 可用的 XY 格式的文本数据的小工具。此工具用 C# 写成，在 Windows 平台下可直接使用。&lt;/p&gt;

&lt;h2 id=&#34;工具使用&#34;&gt;工具使用&lt;/h2&gt;

&lt;p&gt;工具运行环境：Windows平台、.NET Framework 4.0 及以上。&lt;/p&gt;

&lt;p&gt;数据要求：此工具只支持MIF格式的数据。若原数据为MIF格式，则可直接使用。若原数据为TAB格式，则需要在MapInfo或其他软件中导出为MIF文件。&lt;/p&gt;

&lt;p&gt;下载软件后，直接运行 &lt;code&gt;MIT2GMT.exe&lt;/code&gt;，选择一个或多个MIF文件，程序自动在该文件当前目录下生成同名XY文件。&lt;/p&gt;

&lt;h2 id=&#34;原理&#34;&gt;原理&lt;/h2&gt;

&lt;h3 id=&#34;mapinfo数据格式&#34;&gt;MapInfo数据格式&lt;/h3&gt;

&lt;p&gt;MapInfo 数据存储在包括 &lt;code&gt;*.TAB&lt;/code&gt;、&lt;code&gt;*.DAT&lt;/code&gt;（二进制）、&lt;code&gt;*.MAP&lt;/code&gt;（二进制）、&lt;code&gt;*.ID&lt;/code&gt;（二进制）为一组的文件中。分别存储着属性表结构、属性数据、空间数据和索引数据。&lt;/p&gt;

&lt;p&gt;MapInfo未公开其内部数据结构，我们只能用以MapInfo为基础平台的软件打开以上数据。对外数据交换由 &lt;code&gt;*.MIF&lt;/code&gt; 和 &lt;code&gt;*.MID&lt;/code&gt; 这一组文本文件完成。也就是说我们可以将 &lt;code&gt;*.TAB&lt;/code&gt; 数据导出为 &lt;code&gt;*.MIF&lt;/code&gt; 和 &lt;code&gt;*.MID&lt;/code&gt;，并对这两个文件进行编辑和再处理。其中 &lt;code&gt;*.MIF&lt;/code&gt; 保存着表结构和对象的空间信息（坐标、符号样式）、 &lt;code&gt;*.MID&lt;/code&gt; 则按同样顺序保存对象的属性信息。&lt;/p&gt;

&lt;h3 id=&#34;数据提取原理&#34;&gt;数据提取原理&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;*.MIF&lt;/code&gt; 文件包括文件头和数据区。由于我们关注的是表数据（尤其是坐标值），因此我们需要将 &lt;code&gt;*MIF&lt;/code&gt; 中的数据部分提取出来。对于不同类型的表，数据的存储格式分别为：&lt;/p&gt;

&lt;h4 id=&#34;点&#34;&gt;点&lt;/h4&gt;

&lt;p&gt;点数据格式：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;POINT x y
&amp;lt;SYMBOL (shape, color, size)&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;注： &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; 表示可省略。&lt;/p&gt;

&lt;p&gt;例如：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;***文件头***省略***

Point 69.136757 34.530907
    Symbol (41,8726016,10)
Point 62.209999 34.459999
    Symbol (41,8726016,10)
Point 65.5 31.6
    Symbol (41,8726016,10)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;线&#34;&gt;线&lt;/h4&gt;

&lt;p&gt;线数据格式：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;PLINE &amp;lt;num&amp;gt;
x1 y1
x2 y2
...
    &amp;lt;PEN (width, pattern, color)&amp;gt;
    &amp;lt;SMOOTH&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;例如：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;***文件头***省略***

Pline 5
86.44583 43.54956
86.48676 43.54472
86.53923 43.56675
86.59575 43.58853
86.6591 43.6133
    Pen (2,2,16711680)
    Smooth
Pline 17
86.58673 43.57684
86.67906 43.56702
86.77592 43.55147
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;面数据&#34;&gt;面数据&lt;/h4&gt;

&lt;p&gt;面数据格式：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;REGION &amp;lt;num_region&amp;gt;
num_points
x1 y1
x2 y2
...
    &amp;lt;PEN (width, pattern, color)&amp;gt;
    &amp;lt;BRUSH (pattern, forecolor, backcolor)&amp;gt;
    &amp;lt;CENTER x y&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;注： &lt;code&gt;num_region&lt;/code&gt; 指多边形的数量，&lt;code&gt;num_points&lt;/code&gt;指每个多边形节点的数量。&lt;/p&gt;

&lt;p&gt;例如：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;***文件头***省略***
...
Region  1
  5
121.925263 25.446125
121.927017 25.449965
121.929497 25.452316
121.935623 25.452707
121.936172 25.450329
    Pen (1,2,8421504)
    Brush (2,16756991,16777215)
    Center 120.935652 23.647805
Region  1
  15858
109.278892 31.723522
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以上是基本图形的简化格式，一般我们只需要知道这一个文件的节点坐标，简单的做法就是识别坐标数据，属性部分替换为 &lt;code&gt;&amp;gt;&lt;/code&gt;，表示数据分段，最后输出文件。这也是 &lt;code&gt;MIF2GMT.exe&lt;/code&gt; 所做的工作。&lt;/p&gt;

&lt;h2 id=&#34;将来工作&#34;&gt;将来工作&lt;/h2&gt;

&lt;p&gt;了解了MIF及MID数据格式后，还可以做的工作包括：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;提取其中某段数据；&lt;/li&gt;
&lt;li&gt;提取坐标以及图形线型、颜色属性；&lt;/li&gt;
&lt;li&gt;提取MIF文件中的坐标值，MID文件中的属性值（如名称等），合并为一个数据；&lt;/li&gt;
&lt;li&gt;等等等等&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>为子图添加编号</title>
      <link>http://gmt-china.org/blog/numbering-subfigures/</link>
      <pubDate>Mon, 17 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/numbering-subfigures/</guid>
      <description>&lt;p&gt;在绘制组合图（即一张图由多张子图组成）时，需要在每张子图的左上角加上 a、b、c、d 等子图编号。常规的方法是根据子图的 &lt;code&gt;-R&lt;/code&gt; 选项的范围估计编号在当前子图里的坐标，然后使用 &lt;code&gt;pstext&lt;/code&gt; 模块将编号写在坐标所在的位置。此方法的一个明显缺点是，当 &lt;code&gt;-R&lt;/code&gt; 选项发生变化时，子图编号的坐标也需要发生变化。&lt;/p&gt;

&lt;p&gt;其实，GMT5 的 &lt;code&gt;pstext&lt;/code&gt; 模块提供了一个功能，可以用于灵活地进行子图编号。如下脚本所示：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash
J=X5c/3c
R=0/5/0/3
PS=figures.ps

gmt psbasemap -J$J -R$R -Ba -BWSen -K &amp;gt; $PS
echo &amp;quot;a&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psbasemap -J$J -R$R -Ba -BWSen -K -O -X7c &amp;gt;&amp;gt; $PS
echo &amp;quot;b&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;结果如下图所示：
&lt;img src=&#34;http://gmt-china.org/images/numbering-subfigures.png&#34; alt=&#34;子图编号&#34; /&gt;&lt;/p&gt;

&lt;p&gt;几点说明：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;+cTL&lt;/code&gt; 的作用是从 &lt;code&gt;-R&lt;/code&gt; 选项中提取底图的左上角（&lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;L&lt;/strong&gt;eft）作为当前字符串的坐标；&lt;/li&gt;
&lt;li&gt;由于使用了 &lt;code&gt;+cTL&lt;/code&gt;，因而 &lt;code&gt;pstext&lt;/code&gt; 不再需要 XY 坐标信息，只需要给出字符串 &lt;code&gt;a&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt; 即可；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+f15p,1&lt;/code&gt; 将编号字号设置为 &lt;code&gt;15p&lt;/code&gt;，1号字体（即粗体）&lt;/li&gt;
&lt;li&gt;将编号放在左上角还不够，还需要使用 &lt;code&gt;-Dj-1c/-0.75c&lt;/code&gt; 对编号的位置进行微调，此处表示将编号向左边移动 1 cm 向上移动 0.75 cm&lt;/li&gt;
&lt;li&gt;由于编号位于子图的外部，故而需要加上 &lt;code&gt;-N&lt;/code&gt; 选项使得 &lt;code&gt;pstext&lt;/code&gt; 绘制子图外部的字符串&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>生成多页PS/PDF文件</title>
      <link>http://gmt-china.org/blog/multipage-ps/</link>
      <pubDate>Wed, 12 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/multipage-ps/</guid>
      <description>&lt;p&gt;通常，在使用GMT画图时都是一个PS文件中保存一张图。因而，在需要画很多张同类型的图时，就需要生成很多个PS文件。比如要画1000个台站的波形数据，每张图只能放下20个波形，那么就需要写个循环画50张图，最终得到50个PS文件。有没有可能生成一个多页文件，每一页一张图呢？&lt;/p&gt;

&lt;p&gt;常规的做法是：先生成一堆PS文件，然后利用 &lt;code&gt;gmt psconvert -TF -Fout.pdf *.ps&lt;/code&gt;
将所有PS文件转换成一个多页PDF文件 &lt;code&gt;out.pdf&lt;/code&gt; ，最后把生成的PS文件删除。&lt;/p&gt;

&lt;p&gt;另一种做法是，直接生成一个多页PS文件，也就是把原来的脚本做小小的修改，使得所有绘图命令的输出都重定向到同一个PS文件中。比如，下面这个示例代码会生成10个PS文件，每个PS文件上写一个数字：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
for (( i = 0; i &amp;lt; 10; i++)); do
    PS=map_$i.ps
    gmt psxy -J$J -R$R -T -K &amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;对上面的代码做一点微小的改动：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
PS=map.ps

[ -e $PS ] &amp;amp;&amp;amp; rm $PS

for (( i = 0; i &amp;lt; 10; i++)); do
    gmt psxy -J$J -R$R -T -K &amp;gt;&amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;改动主要有三点：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;将变量 &lt;code&gt;PS&lt;/code&gt; 的定义放在了循环外部，意味着所有命令的输出都会保存到一个PS文件中&lt;/li&gt;
&lt;li&gt;第一个绘图命令的 &lt;code&gt;&amp;gt;&lt;/code&gt; 改成了 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; ，以保证每次循环时不会新建PS文件&lt;/li&gt;
&lt;li&gt;循环开始前判断PS文件是否存在，若存在则删除，以避免多次执行脚本时将多次执行的结果写到同一个文件中&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;经过这样的改动之后，就生成了一个多页PS文件。可以使用&lt;code&gt;gmt psconvert -Tf map.ps&lt;/code&gt;
将其转换为多页PDF文件。&lt;/p&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;将多页PS文件转换为多页PDF文件时，&lt;code&gt;psconvert&lt;/code&gt; 的 &lt;code&gt;-A&lt;/code&gt; 和 &lt;code&gt;-P&lt;/code&gt; 等选项无法使用。&lt;/p&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>震源机制分布图</title>
      <link>http://gmt-china.org/example/ex001/</link>
      <pubDate>Mon, 03 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex001/</guid>
      <description>&lt;p&gt;本示例展示了如何绘制震源球的分布图。震级的大小由震源球的大小来表征，震源的深度则由震源球的压缩象限的颜色表示。&lt;/p&gt;




&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
#   绘制震源机制分布图，震级控制震源球大小，深度控制震源球颜色

J=Q104/15c
R=102.5/105.5/30.5/32.5
PS=beachball.ps
CPT=meca.cpt

# 生成CPT文件，为每个深度段设置不同的颜色
cat &amp;lt;&amp;lt; EOF &amp;gt; $CPT
 0   0-1-1   20   0-1-1
20  60-1-1   40  60-1-1
40 120-1-1   60 120-1-1
60 240-1-1  100 240-1-1
EOF

gmt psbasemap -J$J -R$R -B1 -BWSen -P -K &amp;gt; $PS
gmt pscoast -J -R -Da -Ia/0.05,black -K -O &amp;gt;&amp;gt; $PS
gmt psmeca -J -R -CP5p -Sa1.3c -Z$CPT -K -O &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt; EOF
# 经度 纬度 深度(km) strike dip rake 震级 newX newY ID
104.3300  31.90    39.8  32.00 64.00   85.00  7.0 0        0       A
104       31.52    27.1  22.00 53.00   57.00  6.0 0        0       B
103.6700  31.1300   6.4  86.00 32.00  -65.00  8.0 0        0       C
103.900   31.3400  43.6 194.00 84.00  179.00  4.9 104.180  30.8400 D
103.7200  31.4400  67.3  73.00 84.00 -162.00  4.9 103.120  31.6400 E
104.1200  31.7800  12.7 186.00 68.00  107.00  4.7 103.830  32.2600 F
104.2300  31.6100  62.0  86.00 63.00  -51.00  4.7 104.960  31.6900 G
EOF

gmt psscale -J -R -C$CPT -DjBL&amp;#43;w5c/0.5c&amp;#43;ml&amp;#43;o0.8c/0.4c -Bx&amp;#43;lDepth -By&amp;#43;lkm -L -S -K -O &amp;gt;&amp;gt; $PS
gmt psxy -J -R -T -O &amp;gt;&amp;gt; $PS
rm gmt.* $CPT
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex001/beachball.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;震源球分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT中文社区第二次线下聚餐</title>
      <link>http://gmt-china.org/blog/GUD-20160921/</link>
      <pubDate>Tue, 27 Sep 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GUD-20160921/</guid>
      <description>&lt;p&gt;2016年9月21日，借GMT中文社区首次线下培训契机，在社区创始人田冬冬博士和GMT群管理员刘珠妹老师的号召下，GMT中文社区在湖北武汉组织了第二次线下聚餐（GMT User Dinner，简称GUD），四位群管理员和来自河北、福建、安徽、甘肃、湖北等地的共16位社区成员参加了此次聚会。&lt;/p&gt;

&lt;p&gt;聚会伊始，杨萍带来了兰州似火的热情，为大家奉上美味糖果牦牛肉，大红色的包装纸被单斌老师认成喜糖。红色代表着喜庆，象征着今天大家有缘聚在一起，也是一种皆大欢喜的团圆。随后大家自我介绍了自己的群内ID和真实姓名，社区成员对彼此的学习情况、工作经历、研究领域等有了初步认识。稍后，社区成员商讨了GMT社区网站的美观设计、腾讯网盘容量已扩容性问题、相同问题反复提问和解答等。针对上述内容，田博士希望将来可以重新设计一个漂亮的社区logo，建议把GMT社区内容重新移植回QQ群文件中，并希冀整理群问题的工作可以尽快开展，因此再次号召更多志愿者加入到GMT社区的管理和维护工作。稍后，大家谈到了亘古不变的话题“虎哥究竟是男是女”，众人仁者见仁智者见智，各持己见，瞬间聚会气氛达到了高潮，可惜的是虎哥本人并不在现场！&lt;/p&gt;

&lt;p&gt;随后田博士在师弟和美女的陪同下，参观了位于东湖之滨、珞珈山下、拥有百年历史的全国重点高校—国立武汉大学。走出武大校园后，随后乘船游览了国家5A级旅游景区—东湖。此次聚会活动虎哥没有参加，但虎哥热情依在，虎哥看完聚会照片，和大家调侃了“桂花山药”美味的一盘菜，并押宝5毛，最后在虎哥强烈邀约下，筹备了第三次线下聚餐活动。&lt;/p&gt;

&lt;p&gt;GMT社区线下聚会在轻松愉快的氛围中结束，此次聚会谈论话题广泛，但又不失主题性，为GMT社区成员之间深入交流提供了一个很好的平台，促进了GMT社区的稳健成长。遥祝GMT中文社区像东湖一样，可以永葆原创魅力，又像武汉大学一样，亦可承载一路的历史、厚重、辉煌！ “相见时难别亦难”，美好的聚会终有一别，这次聚会虽然短暂，但短暂的聚会让我们会加倍的去珍惜，希望下一次聚会再团聚！&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/images/GUD-20160921.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;参会人员从左往右依次为：章婷（湖北省地震局）、刘珠妹（中国地震局地震研究所）、王丽霞（中国地震局兰州地震研究所）、杨萍（中国地震局兰州地震研究所）、郑海刚（安徽省地震局）、谢小晋（中国地质大学-武汉）、贾媛（山东省地震局）、杨锦玲（福建省地震局）、田冬冬（中国科学技术大学）、肖晓（武汉大学）、赵志远（河北省地震局）、刘旭耀（中国地质大学-武汉）、罗娜（河北省地震局）、邓明莉（中国科学院测量与地球物理研究所）、刘成利（中国地质大学-武汉）、单斌（中国地质大学-武汉）&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>GMT中文社区首次线下培训</title>
      <link>http://gmt-china.org/blog/GMTCon-20160921/</link>
      <pubDate>Sun, 25 Sep 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMTCon-20160921/</guid>
      <description>&lt;p&gt;2016年9月21至22日，GMT中文社区协同中国地震局地震研究所和中国地震局地壳形变学科技术管理组举行了首次GMT线下培训活动。&lt;/p&gt;

&lt;p&gt;此次培训邀请了田冬冬（中国科学技术大学在读博士，社区 ID：知名不具）、单斌（中国地质大学特任教授，社区 ID：Bins）和刘珠妹（中国地震局地震研究所，社区 ID：忆尤）三位老师在湖北省地震局21楼报告厅做了《GMT入门、基础及进阶》、《GMT应用与科技论文写作》、《地学常见GMT图件模板讲解》专题培训讲座，来自全国地震系统的学员和慕名人士共计120余人参加了此次培训。&lt;/p&gt;

&lt;p&gt;此次培训考虑到培训人员GMT操作能力差异巨大，为了尽可能地照顾到所有培训人员的需求，经过一个月精心调研准备，从内容、思路、绘图技巧等方面综合考虑，确定了此次GMT专题讲座的最终主题。21日上午田冬冬博士首先介绍了GMT的概念、开发团队、GMT的版本等，随后对GMT基础知识、配置文件、常用命令进行了详细讲解，最后总结了GMT学习方法及学习资源，对GMT中文社区创建初衷、社区功能、未来发展等做了阐述，并呼吁各位仁人志士加入到GMT社区的设计和日常维护中。单斌教授对GMT做了简单介绍，随后深入浅出的介绍了GMT常用选项、常用命令、shell脚本编写等，并对GMT在科技论文中的应用做了具体实例讲解，提供了科技论文写作技巧。最后具神指出了GMT5和GMT4的语法命令区别，对学习兴趣、专业优势等和大家做了深入分享交流。22日下午刘珠妹老师对地学常见GMT图件模板进行了讲解，刘老师首先讲授了怎样读懂脚本的使用平台、脚本版本、脚本结构等内容，然后讲授了编写绘图脚本的6个基本步骤，介绍了自由空气异常图、布格异常图等几种常用绘图模板，讨论了中文支持、脚本批量运行、二次开发等GMT绘图技巧，刘老师强调在学习过程中，应对照样例修改参数，具体问题具体分析，带着问题去找答案。&lt;/p&gt;

&lt;p&gt;此次GMT专题培训授课内容全面、专题性比较强、课程安排比较合理，通过此次培训，推广了GMT的使用范围，提高了GMT软件在日常工作中实际操作应用能力，促进了GMT群和GMT中文社区的未来更快更好发展，加强了GMT群成员的交流，此次培训取得了预期效果，期待下一次培训的召开。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-1.jpg&#34; alt=&#34;田冬冬&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-2.jpg&#34; alt=&#34;单斌&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-3.jpg&#34; alt=&#34;刘珠妹&#34; /&gt;
&lt;img src=&#34;http://gmt-china.org/images/GMTCon20160921-4.jpg&#34; alt=&#34;现场互动&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>