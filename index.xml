<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>GMT 中文社区</title>
    <link>http://gmt-china.org/index.xml</link>
    <description>Recent content on GMT 中文社区</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cmn-Hans</language>
    <managingEditor>admin@gmt-china.org (GMT 中文社区)</managingEditor>
    <webMaster>admin@gmt-china.org (GMT 中文社区)</webMaster>
    <copyright>Powered by [Hugo](https://gohugo.io) &amp; Hosted by [GitHub](https://github.com/gmt-china/gmt-china.org).</copyright>
    <lastBuildDate>Wed, 23 Nov 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://gmt-china.org/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>全球地形起伏数据: ETOPO1</title>
      <link>http://gmt-china.org/blog/etopo1/</link>
      <pubDate>Wed, 23 Nov 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/etopo1/</guid>
      <description>

&lt;p&gt;ETOPO1 是分辨率为 1 弧分的全球地形起伏数据，其包含了陆地高程和海洋水深的数据。&lt;/p&gt;

&lt;h2 id=&#34;简介&#34;&gt;简介&lt;/h2&gt;

&lt;p&gt;官方主页： &lt;a href=&#34;http://www.ngdc.noaa.gov/mgg/global/global.html&#34; target=&#34;_blank&#34;&gt;http://www.ngdc.noaa.gov/mgg/global/global.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ETOPO1 全球地形起伏数据有两个版本，两个版本的主要区别在于南极洲和格林兰岛的高程。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ETOPO1 IceSurface: 在南极和格林兰岛，以冰层顶部作为地球表面&lt;/li&gt;
&lt;li&gt;ETOPO1 Bedrock: 在南极和格林兰岛，以冰层下的基岩作为地球表面&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ETOPO1 以 WGS84 地理坐标系作为水平基准，以海平面作为垂直基准。&lt;/p&gt;

&lt;p&gt;数据覆盖了全球（即180W-180E、90°S-90°N范围），数据为使用网格线配准方式，共计 21601*10801个 数据点。&lt;/p&gt;

&lt;p&gt;官方网站提供了 netCDF、binary、XYZ 和 GeoTiff 格式数据的下载。&lt;/p&gt;

&lt;h2 id=&#34;本站下载&#34;&gt;本站下载&lt;/h2&gt;

&lt;p&gt;为了方便社区用户，我们从官方网站下载了 netCDF 格式的 ETOPO1 数据，并提供了百度云盘下载。&lt;/p&gt;

&lt;p&gt;下载地址： &lt;a href=&#34;https://pan.baidu.com/s/1crEDLs&#34; target=&#34;_blank&#34;&gt;https://pan.baidu.com/s/1crEDLs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;网盘中包含了如下文件：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ETOPO1_Bed.grd&lt;/code&gt;: ETOPO1 Bedrock 版本 netCDF 格式的数据，可直接在 GMT 中使用&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ETOPO1_Ice.grd&lt;/code&gt;: ETOPO1 IceSurface 版本 netCDF 格式的数据，可直接在 GMT 中使用&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;为了减少数据下载时间，网盘中还提供了 zip、tgz 和 rar 格式的压缩文件，用户可根据自己的实际情况按需下载。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>含中国大陆地区的地形图</title>
      <link>http://gmt-china.org/example/ex010/</link>
      <pubDate>Wed, 23 Nov 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex010/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/example/ex010/eq.dat&#34;&gt;eq.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/blog/etopo1&#34;&gt;ETOPO1_Ice.grd&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文展示了如何用 ETOPO1 数据绘制含中国大陆地区的地形图，同时也展示了如何通过 awk 对数据进行筛选，以及如何绘制简单的图例。&lt;/p&gt;

&lt;p&gt;下面是绘图所使用的bash脚本，同时也提供了一个功能相同的 &lt;a href=&#34;http://gmt-china.org/example/ex010/topo.bat&#34;&gt;bat脚本&lt;/a&gt;。



&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash

PS=topo.ps
eqfile=eq.dat
R=70/135/15/55

gmt grdcut ETOPO1_Ice.grd -R$R -GcutTopo.grd
gmt grdgradient cutTopo.grd -Ne0.7 -A50 -GcutTopo_i.grd
gmt grd2cpt cutTopo.grd -Cglobe -S-10000/10000/200 -Z -D &amp;gt; colorTopo.cpt

#绘制底图
gmt gmtset FORMAT_GEO_MAP=ddd:mm:ssF
gmt psbasemap -R$R -JM7i -Ba10f5 -BWesN -Xc -Yc -K &amp;gt; $PS
gmt grdimage cutTopo.grd -R -J -IcutTopo_i.grd -CcolorTopo.cpt -Q -O -K &amp;gt;&amp;gt;$PS
gmt pscoast -R -J -Dh -W1/0.2p -I1/0.25p -N1/0.5p -O -K &amp;gt;&amp;gt;$PS

#绘制colorbar
gmt psscale -R -J -DjCB&amp;#43;w7i/0.15i&amp;#43;o0/-0.5i&amp;#43;h -CcolorTopo.cpt -Bxa2000f400&amp;#43;l&amp;#34;Elevation/m&amp;#34; -G-8000/8000 -O -K &amp;gt;&amp;gt;$PS

#分震级绘制地震
awk &amp;#39;$3&amp;gt;=5.0 &amp;amp;&amp;amp; $3&amp;lt;6.0 {print $1,$2,$3*0.04}&amp;#39; $eqfile | gmt psxy -R -J -Sc -Gblue -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=6.0 &amp;amp;&amp;amp; $3&amp;lt;7.0 {print $1,$2,$3*0.04}&amp;#39; $eqfile | gmt psxy -R -J -Sc -Gred -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=7.0 &amp;amp;&amp;amp; $3&amp;lt;8.0 {print $1,$2,$3*0.06}&amp;#39; $eqfile | gmt psxy -R -J -Sa -Ggreen -W0.4p,black -O -K &amp;gt;&amp;gt; $PS
awk &amp;#39;$3&amp;gt;=8.0 {print $1,$2,$3*0.06}&amp;#39; $eqfile | gmt psxy -R -J -Sa -Gpurple -W0.4p,black -O -K &amp;gt;&amp;gt; $PS

#绘制图例
gmt pslegend -R -J -DjBR&amp;#43;w0.8i&amp;#43;l1.2&amp;#43;o0 -F&amp;#43;g229&amp;#43;p0.25p -O -K &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt;EOF
G 0.01i
H 8 4 MAGNITUDE
C blue
S 0.1i c 0.20 blue 0.25p,blue 0.18i 5~5.9
C red
S 0.1i c 0.24 red 0.25p,red 0.18i 6~6.9
C green
S 0.1i a 0.42 green 0.25p,black 0.18i 7~7.9
C purple
S 0.1i a 0.48 purple 0.25p,black 0.18i 8~8.9
EOF

gmt psxy -R -J -T -O &amp;gt;&amp;gt;$PS
gmt psconvert $PS -A -Tg -P
rm gmt.* cutTopo*.grd colorTopo.cpt
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;绘图效果：

&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex010/topo.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;含中国大陆地区的地形图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GDAL/OGR: 地理空间数据格式转换神器</title>
      <link>http://gmt-china.org/blog/gdal-ogr/</link>
      <pubDate>Thu, 17 Nov 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/gdal-ogr/</guid>
      <description>

&lt;p&gt;GDAL/OGR 是一个地理空间数据的格式转换及处理工具。&lt;/p&gt;

&lt;h2 id=&#34;简介&#34;&gt;简介&lt;/h2&gt;

&lt;p&gt;官方主页: &lt;a href=&#34;http://www.gdal.org&#34; target=&#34;_blank&#34;&gt;http://www.gdal.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;GDAL/OGR 的核心分成两个部分：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;GDAL部分可以实现142种光栅数据格式间的互相转换，比如常见的 netCDF、GeoTiff、HDF5、XYZ 等，详见 &lt;a href=&#34;http://www.gdal.org/formats_list.html&#34; target=&#34;_blank&#34;&gt;GDAL光栅格式列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ORG部分可以实现84种矢量数据格式间的互相转换，比如常见的 Shapefile、GMT、KML、MapInfo、Excel 等，详见 &lt;a href=&#34;http://www.gdal.org/ogr_formats.html&#34; target=&#34;_blank&#34;&gt;OGR矢量格式列表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;

&lt;h3 id=&#34;linux-用户&#34;&gt;Linux 用户&lt;/h3&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;Linux 由于版本众多，以下仅供参考。如有差异，请到 &lt;a href=&#34;https://pkgs.org&#34; target=&#34;_blank&#34;&gt;https://pkgs.org&lt;/a&gt; 自行搜索。&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;CentOS/Fedora 用户:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo yum install gdal gdal-python
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ubuntu/Debian 用户:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install gdal-bin python-gdal
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;macos-用户&#34;&gt;macOS 用户&lt;/h3&gt;

&lt;p&gt;推荐使用 &lt;a href=&#34;http://brew.sh/&#34; target=&#34;_blank&#34;&gt;Homebrew&lt;/a&gt; 安装:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew install gdal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;非 homebrew 用户也可以到 &lt;a href=&#34;http://www.kyngchaos.com/software/frameworks&#34; target=&#34;_blank&#34;&gt;William Kyngesburye 的网站&lt;/a&gt; 下载 dmg 安装包。&lt;/p&gt;

&lt;h3 id=&#34;windows-用户&#34;&gt;Windows 用户&lt;/h3&gt;

&lt;p&gt;Windows 用户可以通过安装 &lt;a href=&#34;https://trac.osgeo.org/osgeo4w/&#34; target=&#34;_blank&#34;&gt;OSGeo4W&lt;/a&gt; 来使用其提供的 GDAL。安装及使用方式如下：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;到 OSGeo4W 官方网站下载 &lt;a href=&#34;http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86.exe&#34; target=&#34;_blank&#34;&gt;32位&lt;/a&gt; 或 &lt;a href=&#34;http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86_64.exe&#34; target=&#34;_blank&#34;&gt;64位&lt;/a&gt; 安装包&lt;/li&gt;
&lt;li&gt;双击=&amp;gt;“Express Desktop Install”=&amp;gt;选择下载地址=&amp;gt;只勾选GDAL=&amp;gt;等待下载安装完成（有经验的用户也可以选择“Advanced Install”以自定义安装）&lt;/li&gt;
&lt;li&gt;安装完成会在桌面生成一个名为OSGeo4W的文件夹，双击文件夹内的快捷链接即可打开一个命令行窗口&lt;/li&gt;
&lt;li&gt;命令行窗口中输入 &lt;code&gt;ogr2ogr --version&lt;/code&gt; 以确认可以正常使用&lt;/li&gt;
&lt;li&gt;如果只是偶尔使用，建议按照如上方式运行；如果是经常使用，可以将 &lt;code&gt;C:\OSGeo4W64\bin&lt;/code&gt; 添加到 环境变量 PATH 中&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;如果由于某些原因无法使用 OSGeo4W，下面两个软件包中也附带了 GDAL 工具：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.ms4w.com/&#34; target=&#34;_blank&#34;&gt;MS4W&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gisinternals.com/&#34; target=&#34;_blank&#34;&gt;GISInternals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;使用&#34;&gt;使用&lt;/h2&gt;

&lt;p&gt;GDAL/OGR 提供了几十个工具，每个工具用法也很丰富。此处只介绍常见工具的简单用法，详细用法请参考 &lt;a href=&#34;http://www.gdal.org/gdal_utilities.html&#34; target=&#34;_blank&#34;&gt;GDAL工具列表&lt;/a&gt; 和 &lt;a href=&#34;http://www.gdal.org/ogr_utilities.html&#34; target=&#34;_blank&#34;&gt;OGR工具列表&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&#34;ogr2ogr&#34;&gt;ogr2ogr&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;ogr2ogr&lt;/code&gt; 用于地理矢量数据格式之间的相互转换。&lt;/p&gt;

&lt;p&gt;查看 &lt;code&gt;ogr2ogr&lt;/code&gt; 支持哪些格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ogr2ogr --formats
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将 Shapefile 格式的数据转换为 GMT 所需要的格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ogr2ogr -f GMT CHN_adm0.gmt CHN_adm0.shp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;其中， &lt;code&gt;-f GMT&lt;/code&gt; 表示将输入数据转换为 GMT 格式。&lt;/p&gt;

&lt;h3 id=&#34;gdal-translate&#34;&gt;gdal_translate&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;gdal_translate&lt;/code&gt; 用于地理空间光栅数据格式之间的相互转换。&lt;/p&gt;

&lt;p&gt;查看 &lt;code&gt;gdal_translate&lt;/code&gt; 支持哪些格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_translate --formats
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将 GeoTiff 数据转换为 GMT 所使用的 netCDF 格式:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_translate -of GMT srtm_56_05.tif srtm_56_05.nc
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;GDAL 默认不支持 GMT 所需的 netCDF 格式，所以需要注意检查当前机器安装的 GDAL 是否支持。&lt;/p&gt;
&lt;/div&gt;


&lt;h3 id=&#34;gdal-merge-py&#34;&gt;gdal_merge.py&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;gdal_merge.py&lt;/code&gt; 用于将合并多个光栅文件。&lt;/p&gt;

&lt;p&gt;将多个 GeoTiff 文件合并为一个 GeoTiff 文件:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gdal_merge.py -o output.tif srtm_56_07.tif srtm_57_07.tif
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;参考资料&#34;&gt;参考资料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/&#34; target=&#34;_blank&#34;&gt;GDAL官方网站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/gdal_utilities.html&#34; target=&#34;_blank&#34;&gt;GDAL工具列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gdal.org/ogr_utilities.html&#34; target=&#34;_blank&#34;&gt;OGR工具列表&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://headfirst-gdal.readthedocs.io/en/latest/index.html&#34; target=&#34;_blank&#34;&gt;GDAL中文教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>绘制晨昏线及太阳位置</title>
      <link>http://gmt-china.org/example/ex009/</link>
      <pubDate>Tue, 01 Nov 2016 00:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex009/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/example/ex009/sunglasses.eps&#34;&gt;sunglasses.eps&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文利用 GMT 5.3 中新增的 &lt;code&gt;pssolar&lt;/code&gt; 模块绘制了晨昏线并计算得到太阳的位置，同时利用 &lt;code&gt;psxy&lt;/code&gt; 的新增功能，直接将 &lt;code&gt;eps&lt;/code&gt; 格式的太阳图片绘制在指定位置。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
# 绘制指定时间晨昏线，太阳位置

PS=solar.ps

# 绘制全球底图及海陆分布
gmt pscoast -Rd -JKs0/10i -Dl -A5000 -W0.5p -N1/0.5p,gray -S175/210/255 -Bafg --MAP_FRAME_TYPE=plain -K &amp;gt; $PS

# 绘制晨昏线
gmt pssolar -R  -J -Td&amp;#43;d2016-02-09T16:00:00 -Gnavy@95 -K -O &amp;gt;&amp;gt; $PS

# 绘制不同定义的晨昏区
gmt pssolar -R  -J -Tc&amp;#43;d2016-02-09T16:00:00 -Gnavy@85 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Tn&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS
gmt pssolar -R  -J -Ta&amp;#43;d2016-02-09T16:00:00 -Gnavy@80 -K -O &amp;gt;&amp;gt; $PS

# 计算指定时间太阳位置并绘制在底图上
gmt pssolar -I&amp;#43;d2016-02-09T16:00:00 -C | gmt psxy -R -J -Sksunglasses/1.5c -Gyellow -O &amp;gt;&amp;gt; $PS

rm gmt.*
# 转换为PDF文件查看透明效果
#gmt psconvert $ps -A -Tf
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex009/solar.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;绘制晨昏线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Windows 下可用的 Unix 工具</title>
      <link>http://gmt-china.org/blog/unix-tools-for-windows/</link>
      <pubDate>Sat, 29 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/unix-tools-for-windows/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;下载地址：&lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;为满足 Windows 下的 GMT 用户对 Linux 工具的需求，我们将常用的 Linux 工具打包供 Windows 用户下载使用。&lt;/p&gt;

&lt;p&gt;直接下载 &lt;a href=&#34;http://gmt-china.org/datas/UnixTools.zip&#34;&gt;UnixTools.zip&lt;/a&gt; 并将解压得到的 exe 文件复制到 GMT 的 bin 目录即可（比如默认的 &lt;code&gt;C:\programs\gmt5\bin&lt;/code&gt; ）。&lt;/p&gt;

&lt;p&gt;软件包中包含如下程序：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cat&lt;/code&gt;：显示文件内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cut&lt;/code&gt;：从指定文本中截取文本并输出至标准输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gawk&lt;/code&gt;：处理文本信息的编程语言工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grep&lt;/code&gt;：从指定文本或标准输入中识别并截取出特定字段等&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head&lt;/code&gt;：输出一个或多个指定文本的前n行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;join&lt;/code&gt;：将两个文件中文本一致的行连接并输出&lt;/li&gt;
&lt;li&gt;&lt;code&gt;md5sum&lt;/code&gt;：检验文本的MD5摘要&lt;/li&gt;
&lt;li&gt;&lt;code&gt;paste&lt;/code&gt;：并排输出两个文件的内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;printf&lt;/code&gt;：按C语言格式输出文本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed&lt;/code&gt;：文本处理工具&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sort&lt;/code&gt;：对文本文档进行排序&lt;/li&gt;
&lt;li&gt;&lt;code&gt;split&lt;/code&gt;：以行为单位切割文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tail&lt;/code&gt;：显示文件尾端的n行数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uniq&lt;/code&gt;：从文本中去除或禁止重复行&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wc&lt;/code&gt;：输出指定文件的行数、字数和文本数据大小&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以上 Unix 工具均提取自 &lt;a href=&#34;http://www.ms4w.com&#34; target=&#34;_blank&#34;&gt;MS4W&lt;/a&gt; 。&lt;/p&gt;

&lt;p&gt;如果你发现某些工具存在问题，或者觉得有其他需要的 Unix 工具没有被包含进来，请向我们反馈，我们会酌情考虑。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国一级河流数据</title>
      <link>http://gmt-china.org/example/ex008/</link>
      <pubDate>Tue, 25 Oct 2016 15:30:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex008/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Rivers.dat&#34;&gt;CN-Rivers.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Rivers.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制一级河流数据
gmt psxy CN-Rivers.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex008/CN-Rivers.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国一级河流&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国断层数据</title>
      <link>http://gmt-china.org/example/ex007/</link>
      <pubDate>Tue, 25 Oct 2016 14:50:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex007/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-faults.dat&#34;&gt;CN-faults.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;断层数据来源于邓起东院士。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-faults.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制断层数据
gmt psxy CN-faults.dat -J$J -R$R -W0.5p,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex007/CN-faults.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国断层线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国铁路线</title>
      <link>http://gmt-china.org/example/ex006/</link>
      <pubDate>Tue, 25 Oct 2016 14:34:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex006/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-Railways.dat&#34;&gt;CN-Railways.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;铁路线数据来源于 MapSIS。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-Railways.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p,gray -O -K &amp;gt;&amp;gt; $PS

# 两次 psxy 命令使用不同的画笔属性以得到图中所示的铁轨效果
gmt psxy CN-Railways.dat -J$J -R$R -W1.2p,black -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-Railways.dat -J$J -R$R -W0.8p,white,8_8: -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -O -T &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex006/CN-Railways.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国铁路线&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国地震区域划分</title>
      <link>http://gmt-china.org/example/ex005/</link>
      <pubDate>Tue, 25 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex005/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion.dat&#34;&gt;CN-EQRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQRegion-name.dat&#34;&gt;CN-EQRegion-name.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion.dat&#34;&gt;CN-EQSubRegion.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-EQSubRegion-name.dat&#34;&gt;CN-EQSubRegion-name.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文提供了中国地震区划数据。&lt;/p&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=65/145/12/56
J=M105/6.5i
PS=CN-EQRegion.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w500k&amp;#43;f&amp;#43;u -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0p,gray70 -O -K &amp;gt;&amp;gt; $PS

# 绘制地震亚区
gmt psxy CN-EQSubRegion.dat -J$J -R$R -W1p,blue -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQSubRegion-name.dat -J$J -R$R -F&amp;#43;f8p,35,blue -K -O &amp;gt;&amp;gt; $PS

# 绘制地震区
gmt psxy CN-EQRegion.dat -J$J -R$R -W1p,red -K -O &amp;gt;&amp;gt; $PS
gmt pstext CN-EQRegion-name.dat -J$J -R$R -F&amp;#43;f10p,35,red -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex005/CN-EQRegion.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地震区域划分&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国省会城市分布图</title>
      <link>http://gmt-china.org/example/ex004/</link>
      <pubDate>Mon, 24 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex004/</guid>
      <description>&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载：&lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt; &lt;a href=&#34;http://gmt-china.org/datas/CN-capitals.dat&#34;&gt;CN-capitals.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;本文整理并绘制了中国省会城市的分布图，同时展示了如何巧妙地利用 &lt;code&gt;pstext&lt;/code&gt; 模块的功能来灵活地放置城市名的位置。&lt;/p&gt;

&lt;p&gt;绘图脚本如下：



&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-capitals.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10  -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.4p,gray50 -K -O &amp;gt;&amp;gt; $PS

# 绘制省会位置
## 此处使用两次 psxy 命令以实现图中所示的空心圆叠加实心圆的效果
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.08c -Gblack -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-capitals.dat -J$J -R$R -Sc0.15c -W0.2p,black -K -O &amp;gt;&amp;gt; $PS
# 绘制省会名称
gmt pstext CN-capitals.dat -J$J -R$R -F&amp;#43;f7p,35&amp;#43;j -Dj0.15c/0.15c -K -O &amp;gt;&amp;gt; $PS
# 标记北京所在位置
echo 116.46 39.92 | gmt psxy -J$J -R$R -Gred -Sa0.4c -K -O &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项参数为 &lt;code&gt;-F+f7p,35+j&lt;/code&gt; ，即使用大小为 7p 的 35 号字体写城市名。由于使用了 &lt;code&gt;+j&lt;/code&gt; 选项，因而输入文件需要有四列，分别是经度、纬度、文本对齐方式以及城市名，具体内容如下（此处为了节省空间，只显示了个别几个城市的数据）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# 经度    纬度   对齐方式  城市名
121.48   31.22    ML    上海
...
112.53   37.87    TC    太原
...
101.74   36.56    MR    西宁
...
117.27   31.86    CB    合肥
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;pstext&lt;/code&gt; 默认会将城市名放在城市所在处，因而要使用 &lt;code&gt;-D&amp;lt;dx&amp;gt;/&amp;lt;dy&amp;gt;&lt;/code&gt; 选项将城市名沿着X和Y方向分别移动 &lt;code&gt;&amp;lt;dx&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;dy&amp;gt;&lt;/code&gt;。上面的示例中使用了 &lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt;，关键在于其中 &lt;code&gt;j&lt;/code&gt; 的使用，其使得文本会沿着文本对齐方式所定义的方向移动。比如：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;“上海”的对齐方式是 &lt;code&gt;ML&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;L&lt;/strong&gt;eft），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“上海”向右移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“西宁”的对齐方式是 &lt;code&gt;MR&lt;/code&gt;（即 &lt;strong&gt;M&lt;/strong&gt;iddle &lt;strong&gt;R&lt;/strong&gt;ight），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向左移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“太原”的对齐方式是 &lt;code&gt;TC&lt;/code&gt;（即 &lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“太原”向下移动了 0.15 厘米&lt;/li&gt;
&lt;li&gt;“合肥”的对齐方式是 &lt;code&gt;BC&lt;/code&gt;（即 &lt;strong&gt;B&lt;/strong&gt;ottom &lt;strong&gt;C&lt;/strong&gt;enter），&lt;code&gt;-Dj0.15c/0.15c&lt;/code&gt; 使得“西宁”向上移动了 0.15 厘米&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;你也可以尝试以下其他对齐方式下 &lt;code&gt;-Dj&lt;/code&gt; 的具体效果。&lt;/p&gt;

&lt;p&gt;最终绘图效果如下图：&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex004/CN-capitals.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国省会城市分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>中国国界、省界及九段线</title>
      <link>http://gmt-china.org/example/ex003/</link>
      <pubDate>Sun, 23 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex003/</guid>
      <description>

&lt;p&gt;由于 GMT 自带的国界线数据不符合中国领土主张，因而在绘制用于正式图件时用户需要自己准备国界数据。本文提供了笔者自己数字化的几个国界相关数据以及两个绘制中国地图的脚本。&lt;/p&gt;

&lt;div class=&#34;notices info&#34; &gt;&lt;p&gt;数据下载： &lt;a href=&#34;http://gmt-china.org/datas/CN-border-La.dat&#34;&gt;CN-border-La.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/CN-border-L1.dat&#34;&gt;CN-border-L1.dat&lt;/a&gt;
&lt;a href=&#34;http://gmt-china.org/datas/nine-dash-line.dat&#34;&gt;nine-dash-line.dat&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;div class=&#34;alert alert-info&#34; role=&#34;alert&#34;&gt;&lt;ol&gt;
&lt;li&gt;无法保证国界数据完全准确或可通过地图审核；&lt;/li&gt;
&lt;li&gt;欢迎用户共享更准确的国界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-La.dat&lt;/code&gt; 中包含最全的信息，包括国界、省界、九段线以及南海诸多小岛；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CN-border-L1.dat&lt;/code&gt; 包含国界、九段线以及南海诸岛数据，不含省界数据；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nine-dash-line.dat&lt;/code&gt; 仅包含九段线数据；&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;


&lt;h2 id=&#34;jd-等距圆锥投影&#34;&gt;-JD 等距圆锥投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/140/3/60
J=D105/35/36/42/7.5i
PS=CN-border-JD.ps

gmt set FONT_ANNOT_PRIMARY 9p FORMAT_GEO_MAP ddd:mm:ssF
gmt set MAP_FRAME_WIDTH 2p MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/11&amp;#43;c11&amp;#43;w900k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O &amp;gt;&amp;gt; $PS
rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JD.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 id=&#34;jm-墨卡托投影&#34;&gt;-JM 墨卡托投影&lt;/h2&gt;

&lt;p&gt;


&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
R=70/138/13/56
J=M105/35/6.5i
PS=CN-border-JM.ps

gmt set MAP_GRID_PEN_PRIMARY 0.25p,gray,2_2:1
gmt set FORMAT_GEO_MAP ddd:mm:ssF MAP_FRAME_WIDTH 3p
gmt set FONT_ANNOT_PRIMARY 7p
# 设置比例尺标签为35号中文字体
gmt set FONT_LABEL 8p,35 MAP_LABEL_OFFSET 4p

# 绘制中国地图
gmt pscoast -J$J -R$R -G244/243/239 -S167/194/223 -B10f5g10 -Lg85/17.5&amp;#43;c17.5&amp;#43;w800k&amp;#43;f&amp;#43;u&amp;#43;l&amp;#39;比例尺&amp;#39; -K &amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.5p -O -K &amp;gt;&amp;gt; $PS

# 绘制南海区域
R=105/123/3/24
J=M1.1i
gmt psbasemap -J$J -R$R -B0 -X5.4i --MAP_FRAME_TYPE=plain --MAP_FRAME_PEN=1p -K -O &amp;gt;&amp;gt; $PS
gmt pscoast -J$J -R$R -N1/0.1p -W1/0.25p -G244/243/239 -S167/194/223 -K -O &amp;gt;&amp;gt; $PS
gmt psxy CN-border-La.dat -J$J -R$R -W0.25p -O -K &amp;gt;&amp;gt; $PS
echo &amp;#34;南海诸岛&amp;#34; | gmt pstext -J$J -R$R -F&amp;#43;f10p,35&amp;#43;cBC -D0c/0.1c -N -Gwhite -O &amp;gt;&amp;gt; $PS

rm gmt.conf gmt.history
&lt;/code&gt;&lt;/pre&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex003/CN-border-JM.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;中国地图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GMT 5.3.1 发布</title>
      <link>http://gmt-china.org/blog/GMT-5.3.1-released/</link>
      <pubDate>Sat, 22 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/GMT-5.3.1-released/</guid>
      <description>

&lt;p&gt;2016年10月21日，GMT 官方发布了 GMT5 的 5.3.1 版本。此前不久，GMT4 也更新了 4.5.15 版本。&lt;/p&gt;

&lt;p&gt;GMT 5.3.1 相对于 5.2.1 上的改进主要包括：&lt;/p&gt;

&lt;h2 id=&#34;新增模块&#34;&gt;新增模块&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pssolar&lt;/code&gt;: 绘制晨昏线和其他日照参数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtpmodeler&lt;/code&gt;: 用给定点评价板块运动模型&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rotsmoother&lt;/code&gt;: 以四分法平滑板块的旋转角并给出估计协方差&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pssac&lt;/code&gt;: 绘制以 SAC 格式存储的地震波形数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpsgridder&lt;/code&gt;: 利用弹性形变理论下的格林函数对GPS应变矢量进行插值&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;其他重要更新&#34;&gt;其他重要更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;CPT文件新增了一个称为 hinge 的属性。GMT官方给的40个CPT都是动态、存在hinge和有一个默认范围的。因此，大部分CPT的值都被归一化在0-1的区间内，而那些具有hinge的CPT文件的值则被归一化到了-1/+1的区间内，0就自然而然地成为了归一化后的颜色转折点。在CPT文件的插值中，hinge两边的数据是分开进行的。因此，在hinge处通常颜色变化较大。另外，当要求CPT文件中包含对称的范围时,我们可以保证hinge处的颜色不会变换到其他Z值所对应的颜色上去。当范围没有给定时，CPT文件将应用默认范围。&lt;/li&gt;
&lt;li&gt;GMT官方统一了地图各装饰项的指定方式，其中包括：比例尺、色标、图例、方位标、插图、GMT的logo和背景图片等。GMT手册中新开了一节专门来讲其指定方式。其实该部分的主要概念就是这些条目对齐方式和距离的参考点。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grdlandmask&lt;/code&gt; 和 &lt;code&gt;sph2grd&lt;/code&gt; 支持 OpenMP 并行&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;模块更新&#34;&gt;模块更新&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;filter1d&lt;/code&gt; 支持高通滤波&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtinfo&lt;/code&gt; 新添了 &lt;code&gt;-L&lt;/code&gt; 选项以的的多个文件或多段数据的共同边界&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gmtmath&lt;/code&gt; 和 &lt;code&gt;grdmath&lt;/code&gt; 增加了一些新的数学操作&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pstext&lt;/code&gt; 的 &lt;code&gt;-F&lt;/code&gt; 选项新增了功能，使得用户可以生成自动标注&lt;/li&gt;
&lt;li&gt;&lt;code&gt;psxy&lt;/code&gt;:

&lt;ul&gt;
&lt;li&gt;支持绘制装饰线，即绘制线的同时沿着线绘制符号&lt;/li&gt;
&lt;li&gt;线段两端可以添加箭头&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-SE&lt;/code&gt;、&lt;code&gt;-SJ&lt;/code&gt;、&lt;code&gt;-S=&lt;/code&gt; 等选项可以接不同单位的地理量来指定符号的大小&lt;/li&gt;
&lt;li&gt;新增了弯曲箭头来表示 fault-slip&lt;/li&gt;
&lt;li&gt;支持向内箭头&lt;/li&gt;
&lt;li&gt;自定义符号可以是一个已经存在的EPS文件&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>为子图添加编号</title>
      <link>http://gmt-china.org/blog/numbering-subfigures/</link>
      <pubDate>Mon, 17 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/numbering-subfigures/</guid>
      <description>&lt;p&gt;在绘制组合图（即一张图由多张子图组成）时，需要在每张子图的左上角加上 a、b、c、d 等子图编号。常规的方法是根据子图的 &lt;code&gt;-R&lt;/code&gt; 选项的范围估计编号在当前子图里的坐标，然后使用 &lt;code&gt;pstext&lt;/code&gt; 模块将编号写在坐标所在的位置。此方法的一个明显缺点是，当 &lt;code&gt;-R&lt;/code&gt; 选项发生变化时，子图编号的坐标也需要发生变化。&lt;/p&gt;

&lt;p&gt;其实，GMT5 的 &lt;code&gt;pstext&lt;/code&gt; 模块提供了一个功能，可以用于灵活地进行子图编号。如下脚本所示：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash
J=X5c/3c
R=0/5/0/3
PS=figures.ps

gmt psbasemap -J$J -R$R -Ba -BWSen -K &amp;gt; $PS
echo &amp;quot;a&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psbasemap -J$J -R$R -Ba -BWSen -K -O -X7c &amp;gt;&amp;gt; $PS
echo &amp;quot;b&amp;quot; | gmt pstext -J$J -R$R -F+cTL+f15p,1 -Dj-1c/-0.75c -N -K -O &amp;gt;&amp;gt; $PS

gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;结果如下图所示：
&lt;img src=&#34;http://gmt-china.org/images/numbering-subfigures.png&#34; alt=&#34;子图编号&#34; /&gt;&lt;/p&gt;

&lt;p&gt;几点说明：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;+cTL&lt;/code&gt; 的作用是从 &lt;code&gt;-R&lt;/code&gt; 选项中提取底图的左上角（&lt;strong&gt;T&lt;/strong&gt;op &lt;strong&gt;L&lt;/strong&gt;eft）作为当前字符串的坐标；&lt;/li&gt;
&lt;li&gt;由于使用了 &lt;code&gt;+cTL&lt;/code&gt;，因而 &lt;code&gt;pstext&lt;/code&gt; 不再需要 XY 坐标信息，只需要给出字符串 &lt;code&gt;a&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt; 即可；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+f15p,1&lt;/code&gt; 将编号字号设置为 &lt;code&gt;15p&lt;/code&gt;，1号字体（即粗体）&lt;/li&gt;
&lt;li&gt;将编号放在左上角还不够，还需要使用 &lt;code&gt;-Dj-1c/-0.75c&lt;/code&gt; 对编号的位置进行微调，此处表示将编号向左边移动 1 cm 向上移动 0.75 cm&lt;/li&gt;
&lt;li&gt;由于编号位于子图的外部，故而需要加上 &lt;code&gt;-N&lt;/code&gt; 选项使得 &lt;code&gt;pstext&lt;/code&gt; 绘制子图外部的字符串&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>生成多页PS/PDF文件</title>
      <link>http://gmt-china.org/blog/multipage-ps/</link>
      <pubDate>Wed, 12 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/blog/multipage-ps/</guid>
      <description>&lt;p&gt;通常，在使用GMT画图时都是一个PS文件中保存一张图。因而，在需要画很多张同类型的图时，就需要生成很多个PS文件。比如要画1000个台站的波形数据，每张图只能放下20个波形，那么就需要写个循环画50张图，最终得到50个PS文件。有没有可能生成一个多页文件，每一页一张图呢？&lt;/p&gt;

&lt;p&gt;常规的做法是：先生成一堆PS文件，然后利用 &lt;code&gt;gmt psconvert -TF -Fout.pdf *.ps&lt;/code&gt;
将所有PS文件转换成一个多页PDF文件 &lt;code&gt;out.pdf&lt;/code&gt; ，最后把生成的PS文件删除。&lt;/p&gt;

&lt;p&gt;另一种做法是，直接生成一个多页PS文件，也就是把原来的脚本做小小的修改，使得所有绘图命令的输出都重定向到同一个PS文件中。比如，下面这个示例代码会生成10个PS文件，每个PS文件上写一个数字：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
for (( i = 0; i &amp;lt; 10; i++)); do
    PS=map_$i.ps
    gmt psxy -J$J -R$R -T -K &amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;对上面的代码做一点微小的改动：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

J=X10c/10c
R=0/10/0/10
PS=map.ps

[ -e $PS ] &amp;amp;&amp;amp; rm $PS

for (( i = 0; i &amp;lt; 10; i++)); do
    gmt psxy -J$J -R$R -T -K &amp;gt;&amp;gt; $PS
    echo 5 5 $i | gmt pstext -J$J -R$R -B1 -F+f50p -K -O &amp;gt;&amp;gt; $PS
    gmt psxy -J$J -R$R -T -O &amp;gt;&amp;gt; $PS
done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;改动主要有三点：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;将变量 &lt;code&gt;PS&lt;/code&gt; 的定义放在了循环外部，意味着所有命令的输出都会保存到一个PS文件中&lt;/li&gt;
&lt;li&gt;第一个绘图命令的 &lt;code&gt;&amp;gt;&lt;/code&gt; 改成了 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; ，以保证每次循环时不会新建PS文件&lt;/li&gt;
&lt;li&gt;循环开始前判断PS文件是否存在，若存在则删除，以避免多次执行脚本时将多次执行的结果写到同一个文件中&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;经过这样的改动之后，就生成了一个多页PS文件。可以使用&lt;code&gt;gmt psconvert -Tf map.ps&lt;/code&gt;
将其转换为多页PDF文件。&lt;/p&gt;

&lt;div class=&#34;notices warning&#34; &gt;&lt;p&gt;将多页PS文件转换为多页PDF文件时，&lt;code&gt;psconvert&lt;/code&gt; 的 &lt;code&gt;-A&lt;/code&gt; 和 &lt;code&gt;-P&lt;/code&gt; 等选项无法使用。&lt;/p&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>震源机制分布图</title>
      <link>http://gmt-china.org/example/ex001/</link>
      <pubDate>Mon, 03 Oct 2016 00:00:00 +0000</pubDate>
      <author>admin@gmt-china.org (GMT 中文社区)</author>
      <guid>http://gmt-china.org/example/ex001/</guid>
      <description>&lt;p&gt;本示例展示了如何绘制震源球的分布图。震级的大小由震源球的大小来表征，震源的深度则由震源球的压缩象限的颜色表示。&lt;/p&gt;




&lt;pre&gt;&lt;code class=&#34;language-bash line-numbers&#34;&gt;#!/bin/bash
#   绘制震源机制分布图，震级控制震源球大小，深度控制震源球颜色

J=Q104/15c
R=102.5/105.5/30.5/32.5
PS=beachball.ps
CPT=meca.cpt

# 生成CPT文件，为每个深度段设置不同的颜色
cat &amp;lt;&amp;lt; EOF &amp;gt; $CPT
 0   0-1-1   20   0-1-1
20  60-1-1   40  60-1-1
40 120-1-1   60 120-1-1
60 240-1-1  100 240-1-1
EOF

gmt psbasemap -J$J -R$R -B1 -BWSen -P -K &amp;gt; $PS
gmt pscoast -J -R -Da -Ia/0.05,black -K -O &amp;gt;&amp;gt; $PS
gmt psmeca -J -R -CP5p -Sa1.3c -Z$CPT -K -O &amp;gt;&amp;gt; $PS &amp;lt;&amp;lt; EOF
# 经度 纬度 深度(km) strike dip rake 震级 newX newY ID
104.3300  31.90    39.8  32.00 64.00   85.00  7.0 0        0       A
104       31.52    27.1  22.00 53.00   57.00  6.0 0        0       B
103.6700  31.1300   6.4  86.00 32.00  -65.00  8.0 0        0       C
103.900   31.3400  43.6 194.00 84.00  179.00  4.9 104.180  30.8400 D
103.7200  31.4400  67.3  73.00 84.00 -162.00  4.9 103.120  31.6400 E
104.1200  31.7800  12.7 186.00 68.00  107.00  4.7 103.830  32.2600 F
104.2300  31.6100  62.0  86.00 63.00  -51.00  4.7 104.960  31.6900 G
EOF

gmt psscale -J -R -C$CPT -DjBL&amp;#43;w5c/0.5c&amp;#43;ml&amp;#43;o0.8c/0.4c -Bx&amp;#43;lDepth -By&amp;#43;lkm -L -S -K -O &amp;gt;&amp;gt; $PS
gmt psxy -J -R -T -O &amp;gt;&amp;gt; $PS
rm gmt.* $CPT
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://gmt-china.org/example/ex001/beachball.png&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;震源球分布图&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>